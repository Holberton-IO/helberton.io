/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => { // webpackBootstrap
/******/ 	var __webpack_modules__ = ({

/***/ "./src/app.js":
/*!********************!*\
  !*** ./src/app.js ***!
  \********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _ui_objects_camera_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ui/objects/camera.js */ \"./src/ui/objects/camera.js\");\n/* harmony import */ var _gameEngine__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./gameEngine */ \"./src/gameEngine.js\");\n/* harmony import */ var _network_client__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./network/client */ \"./src/network/client.js\");\n/* harmony import */ var _globals_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./globals.js */ \"./src/globals.js\");\n/* harmony import */ var _controls_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./controls.js */ \"./src/controls.js\");\n/* harmony import */ var _controls_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_controls_js__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _extensions_arraysExtensions_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./extensions/arraysExtensions.js */ \"./src/extensions/arraysExtensions.js\");\n/* harmony import */ var _extensions_arraysExtensions_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_extensions_arraysExtensions_js__WEBPACK_IMPORTED_MODULE_5__);\n\n\n\n\n\n\n\nconst camera = new _ui_objects_camera_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\nconst gameEngine = new _gameEngine__WEBPACK_IMPORTED_MODULE_1__[\"default\"](60);\nwindow.gameEngine = gameEngine;\nwindow.camera = camera;\n\nlet canvas = document.getElementById(\"canvas\");\nlet ctx = canvas.getContext(\"2d\");\nlet blocks = window.gameEngine.gameObjects.blocks;\nlet players = window.gameEngine.gameObjects.players;\nwindow.game.canvas = canvas;\n\nlet helperCanvas = document.createElement(\"canvas\");\nlet helperCtx = helperCanvas.getContext(\"2d\");\nwindow.game.helperCtx = helperCtx;\n\nlet client = null;\nlet myPlayer = null;\n\nconst draw = () => {\n    if (client && client.player)\n        myPlayer = client.player;\n\n    gameEngine.scaleCanvas(ctx);\n    ctx.fillStyle = \"#3a3428\";\n    ctx.fillRect(0, 0, canvas.width, canvas.height);\n    camera.loop()\n    gameEngine.camTransform(ctx);\n\n\n    console.log(\"Blocks: \" + blocks.length);\n    for (let b of blocks) {\n        b.draw(ctx, false);\n    }\n\n    for (let p in players) {\n        players[p].draw(ctx);\n    }\n\n      if (client && client.player)\n    myPlayer.removeBlocksOutsideCamera();\n\n}\n\n\ngameEngine.setDrawFunction(draw);\n\n\nwindow.requestAnimationFrame(gameEngine.loop.bind(gameEngine));\nclient = new _network_client__WEBPACK_IMPORTED_MODULE_2__.Client('ws://127.0.0.1:5000/game', (client) => {\n    client.setPlayerName(\"Test\");\n});\n\n\n\n\n//# sourceURL=webpack:///./src/app.js?");

/***/ }),

/***/ "./src/controls.js":
/*!*************************!*\
  !*** ./src/controls.js ***!
  \*************************/
/***/ (() => {

eval("const keyMapper = { //In Circle Way\n    ArrowUp: 1,\n    ArrowDown: 3,\n    ArrowLeft: 4,\n    ArrowRight: 2,\n}\n\nwindow.onkeyup = (e) => {\n    //console.log(keyMapper[e.key]);\n    const keyVal = keyMapper[e.key];\n    if(keyVal && window.client && window.client.player){\n        window.client.player.requestChangeDir(keyVal);\n    }\n};\n\n\n//# sourceURL=webpack:///./src/controls.js?");

/***/ }),

/***/ "./src/extensions/arraysExtensions.js":
/*!********************************************!*\
  !*** ./src/extensions/arraysExtensions.js ***!
  \********************************************/
/***/ (() => {

eval("\n\nObject.defineProperty(Array.prototype, 'getLast', {\n    get: function() {\n        if (this.length === 0) {\n            throw new Error(\"No elements in array\");\n        }\n        return this[this.length - 1];\n    }\n});\n\n\nObject.defineProperty(Array.prototype, 'first', {\n    get: function() {\n        if (this.length === 0) {\n            throw new Error(\"No elements in array\");\n        }\n        return this[0];\n    }\n});\n\n\n//# sourceURL=webpack:///./src/extensions/arraysExtensions.js?");

/***/ }),

/***/ "./src/gameEngine.js":
/*!***************************!*\
  !*** ./src/gameEngine.js ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _utils_math_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils/math.js */ \"./src/utils/math.js\");\n/* harmony import */ var _ui_utils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ui/utils.js */ \"./src/ui/utils.js\");\n/* harmony import */ var _gameObjects_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./gameObjects.js */ \"./src/gameObjects.js\");\n/* harmony import */ var _network_packets_ping__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./network/packets/ping */ \"./src/network/packets/ping.js\");\n\n\n\n\n\n\n\nclass GameEngine {\n    constructor(fps) {\n        this.lastFrameTimeStamp = 0\n        this.currentFrameTimeStamp = 0\n        this.totalDeltaTimeCap = 0\n        this.fps = fps\n        this.deltaTime = 1000 / this.fps;\n        this.interpoatedDeltaTime = 1000 / this.fps;\n\n\n        this.timesCap = [0, 6.5, 16, 33, 49, 99];\n        this.currentCapIndex = 0;\n\n        this.processFrames = [];\n        this.missedFrames = [];\n\n\n        this.canvanQaulity = 1;\n\n\n        this.gameObjects = new _gameObjects_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\n\n        this.drawFunction = () => {\n        };\n    }\n\n    setDrawFunction(drawFunction) {\n        this.drawFunction = drawFunction;\n    }\n\n\n    getCap(cap) {\n        return this.timesCap[_utils_math_js__WEBPACK_IMPORTED_MODULE_0__.clamp(cap, 0, this.timesCap.length - 1)];\n    }\n\n    checkIncreasingInFramesProcess() {\n        // This function checks if the game is running at the right speed.\n        // If the game is running too fast, it will decrease the currentCapIndex.\n        // if currentFrameTimeStamp < 90% of the currentCapIndex, then decrease the currentCapIndex.\n        if (this.currentFrameTimeStamp < _utils_math_js__WEBPACK_IMPORTED_MODULE_0__.linearInterpolate(\n            this.getCap(this.currentCapIndex), this.getCap(this.currentCapIndex - 1),\n            0.9\n        )) {\n            this.processFrames.push(Date.now());\n\n            // If Draw More than 190 frames in 10 seconds, then remove the first frame.\n            while (this.processFrames.length > 190) {\n                if (Date.now() - this.processFrames[0] > 10_000) {\n                    this.processFrames.splice(0, 1)\n                } else {\n                    // if first frame happen in less than 10 seconds, decrease the currentCapIndex.\n                    this.currentCapIndex--;\n                    this.processFrames = [];\n                    this.currentCapIndex = _utils_math_js__WEBPACK_IMPORTED_MODULE_0__.clamp(this.currentCapIndex, 0, this.timesCap.length - 1);\n                }\n            }\n        }\n    }\n\n    checkDecreaseInFramesProcess() {\n        // This function checks if the game is running at the right speed.\n        // If the game is running too slow, it will increase the currentCapIndex.\n        // if currentFrameTimeStamp > 5% of the currentCapIndex, then increase the currentCapIndex.\n        if (this.currentFrameTimeStamp > _utils_math_js__WEBPACK_IMPORTED_MODULE_0__.linearInterpolate(\n            this.getCap(this.currentCapIndex), this.getCap(this.currentCapIndex + 1),\n            0.05\n        )) {\n            this.missedFrames.push(Date.now());\n            this.processFrames = [];\n            // If Draw Less than 5 frames in 5 seconds, then remove the first frame.\n            while (this.missedFrames.length > 5) {\n                if (Date.now() - this.missedFrames[0] > 5_000) {\n                    this.missedFrames.splice(0, 1)\n                } else {\n                    // if first frame happen in less than 5 seconds, increase the currentCapIndex.\n                    this.currentCapIndex++;\n                    this.missedFrames = [];\n                    this.currentCapIndex = _utils_math_js__WEBPACK_IMPORTED_MODULE_0__.clamp(this.currentCapIndex, 0, this.timesCap.length - 1);\n                }\n            }\n        }\n    }\n\n\n    handleServerTiming(timeStamp) {\n        if (!window.client || !window.client.player)\n            return;\n        const myPlayer = window.client.player;\n        const maxWaitTimeForDisconnect = window.game.maxWaitingSocketTime;\n        const clientSideSetPosPassedTime = Date.now() - myPlayer.lastMyPostSetClientSendTime;\n        const lastConfirmationPassedTime = Date.now() - myPlayer.lastConfirmedTimeForPos;\n        const serverSideSetPosPassed = Date.now() - myPlayer.lastPosServerSentTime;\n\n        const timeTookToConfirmation = serverSideSetPosPassed - clientSideSetPosPassedTime;\n\n        // console.log(`Last Confirmation Passed Time: ${lastConfirmationPassedTime}ms`);\n        // console.log(`Time Took To Confirmation: ${timeTookToConfirmation}ms`);\n        if (lastConfirmationPassedTime > maxWaitTimeForDisconnect &&\n            timeTookToConfirmation > maxWaitTimeForDisconnect) {\n            console.log(\"Check Your Internet Connection\");\n\n        }else {\n\n        }\n\n        const maxPingTime = myPlayer.waitingForPing ? 1_0000: 5_000;\n        const pingPassedTime = Date.now() - myPlayer.lastPingTime;\n        if(pingPassedTime > maxPingTime) {\n            myPlayer.waitingForPing = true;\n            myPlayer.lastPingTime = Date.now();\n            const pingPacket = new _network_packets_ping__WEBPACK_IMPORTED_MODULE_3__[\"default\"]();\n            window.client.send(pingPacket);\n        }\n\n\n\n    }\n\n    loop(timeStamp) {\n        window.game.timeStamp = timeStamp;\n        this.currentFrameTimeStamp = timeStamp - this.lastFrameTimeStamp; // 16\n\n        if(this.currentFrameTimeStamp > this.interpoatedDeltaTime){\n            this.interpoatedDeltaTime = this.currentFrameTimeStamp;\n        }else\n        {\n            this.interpoatedDeltaTime = _utils_math_js__WEBPACK_IMPORTED_MODULE_0__.linearInterpolate(this.interpoatedDeltaTime, this.currentFrameTimeStamp, 0.05);\n        }\n\n\n\n        this.checkIncreasingInFramesProcess();\n        this.checkDecreaseInFramesProcess();\n        this.deltaTime = this.currentFrameTimeStamp + this.totalDeltaTimeCap;\n        // console.log(this.deltaTime, this.gameObjects.blocks.length);\n        this.lastFrameTimeStamp = timeStamp;\n        if (this.deltaTime < this.getCap(this.currentCapIndex)) {\n            this.totalDeltaTimeCap += this.currentFrameTimeStamp;\n\n        } else {\n            this.totalDeltaTimeCap = 0;\n            this.drawFunction();\n        }\n\n\n        this.handleServerTiming(timeStamp);\n        window.requestAnimationFrame(this.loop.bind(this));\n    }\n\n\n    camTransform(ctx, changeSize = false) {\n        if (changeSize) {\n            this.scaleCanvas(ctx);\n        }\n\n        ctx.save();\n        const camera = window.camera;\n        camera.calZoom(ctx);\n\n\n    }\n\n    scaleCanvas(ctx, w = _ui_utils_js__WEBPACK_IMPORTED_MODULE_1__.getWidth(), h = _ui_utils_js__WEBPACK_IMPORTED_MODULE_1__.getHeight()) {\n        let MAX_PIXEL_RATIO = (0,_ui_utils_js__WEBPACK_IMPORTED_MODULE_1__.calculate_pixel_ratio)();\n        let drawingQuality = 1;\n        let c = ctx.canvas;\n        c.width = w * drawingQuality * MAX_PIXEL_RATIO;\n        c.height = h * drawingQuality * MAX_PIXEL_RATIO;\n        let styleRatio = 1;\n        c.style.width = w * styleRatio + \"px\";\n        c.style.height = h * styleRatio + \"px\";\n    }\n\n}\n\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (GameEngine);\n\n//# sourceURL=webpack:///./src/gameEngine.js?");

/***/ }),

/***/ "./src/gameObjects.js":
/*!****************************!*\
  !*** ./src/gameObjects.js ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _ui_objects_block_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ui/objects/block.js */ \"./src/ui/objects/block.js\");\n\n\nclass GameObjects {\n    constructor() {\n        this.players = {};\n        this.blocks = [];\n        this.myPlayer = null;\n        this.mapSize = 0;\n    }\n\n\n\n    addPlayer(player) {\n        if (player.id in this.players)\n            return this.players[player.id];\n        if (player.isMyPlayer)\n            this.myPlayer = player;\n        else{\n            player.isReady = true;\n        }\n        this.players[player.id] = player;\n        return player;\n    }\n\n\n    removePlayer(player) {\n        if (player.id in this.players)\n            delete this.players[player.id];\n    }\n\n    addBlock(block) {\n        return _ui_objects_block_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].getBlockAt(block.position, this.blocks);\n    }\n\n\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (GameObjects);\n\n//# sourceURL=webpack:///./src/gameObjects.js?");

/***/ }),

/***/ "./src/globals.js":
/*!************************!*\
  !*** ./src/globals.js ***!
  \************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _ui_objects_point_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ui/objects/point.js */ \"./src/ui/objects/point.js\");\n\n\nconst globals = {\n    timeStamp: 0,\n    gameSpeed: 0.006,\n    viewPortRadius: 30,\n    maxZoom: 430,\n    maxBlocksNumber: 2500, //1100 50 * 50\n    usernameLength: 6,\n    maxWaitingSocketTime: 1_000,\n    drawingOffset: 10,\n    calDrawingOffset: (p) => {\n        return new _ui_objects_point_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"](p.x * globals.drawingOffset, p.y * globals.drawingOffset);\n    },\n    calBlocksGap: (p, size) => {\n        return new _ui_objects_point_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"](p.x * size, p.y * size);\n    }\n};\n\n\n\n\nwindow.game = {};\n// Adding to window object\nObject.entries(globals).forEach(([key, value]) => {\n    window.game[key] = value;\n});\n\n\n\n//# sourceURL=webpack:///./src/globals.js?");

/***/ }),

/***/ "./src/network/client.js":
/*!*******************************!*\
  !*** ./src/network/client.js ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Client: () => (/* binding */ Client),\n/* harmony export */   ConnectionStatus: () => (/* binding */ ConnectionStatus),\n/* harmony export */   PlayerStatus: () => (/* binding */ PlayerStatus)\n/* harmony export */ });\n/* harmony import */ var _socket_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./socket.js */ \"./src/network/socket.js\");\n/* harmony import */ var _utils_reader_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./utils/reader.js */ \"./src/network/utils/reader.js\");\n/* harmony import */ var _packets_packets__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./packets/packets */ \"./src/network/packets/packets.js\");\n/* harmony import */ var _packets_namePacket_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./packets/namePacket.js */ \"./src/network/packets/namePacket.js\");\n\n\n\n\n\nconst ConnectionStatus = {\n    CONNECTING: 0,\n    OPEN: 1,\n    CLOSING: 2,\n    CLOSED: 3\n};\n\nconst PlayerStatus = {\n    WAITING: -1,\n    CONNECTED: 0,\n    READY: 1,\n    PLAYING: 2,\n    DISCONNECTED: 3\n};\n\n\n\n\n\nclass Client {\n    constructor(server,onConnect, ) {\n        window.client = this;\n        this.server = server;\n        this.ws = new _socket_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"](this.server, this);\n        this.ws.iniSocket();\n        this.onConnect = onConnect;\n\n\n        this.connectionStatus = ConnectionStatus.CONNECTING;\n        this.playerStatus = PlayerStatus.WAITING;\n        this.username = \"\";\n        this.player = null;\n\n\n    }\n\n\n    send(packet) {\n        this.ws.send(packet);\n    }\n\n    onReceive(messageEvent) {\n        if (typeof messageEvent.data !== \"object\")\n            return;\n\n        this.packetHandler(messageEvent.data);\n\n\n    }\n\n    onOpen(onOpenEvent) {\n        console.log(\"Connected to server\");\n        console.log(onOpenEvent);\n        this.connectionStatus = ConnectionStatus.OPEN;\n        this.playerStatus = PlayerStatus.CONNECTED;\n        this.onConnect(this);\n        // let p = new namePacket(this.username);\n\n\n\n    }\n\n    onClose(onCloseEvent) {\n        console.log(\"OnClose to server\");\n        console.log(onCloseEvent);\n        this.connectionStatus = ConnectionStatus.CLOSED;\n    }\n\n    packetHandler(data) {\n        let x = new Uint8Array(data);\n        const reader = new _utils_reader_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"](x);\n        const packetSize = reader.readInt2();\n        const packetId = reader.readInt2();\n        const packetClass = _packets_packets__WEBPACK_IMPORTED_MODULE_2__[\"default\"][packetId];\n        const packet = packetClass.parsePacketData(packetSize, reader, packetClass);\n        packet.handleReceivedPacket(packet,this);\n    }\n\n    setPlayerName(name) {\n        let p = new _packets_namePacket_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"](name);\n        this.send(p);\n    }\n\n}\n\n\n\n//# sourceURL=webpack:///./src/network/client.js?");

/***/ }),

/***/ "./src/network/packet.js":
/*!*******************************!*\
  !*** ./src/network/packet.js ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _utils_reader_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils/reader.js */ \"./src/network/utils/reader.js\");\n/* harmony import */ var _utils_writer_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./utils/writer.js */ \"./src/network/utils/writer.js\");\n\n\n\nclass Packet {\n    constructor() {\n        this.data = null;\n        this.packetId = -1;\n        this.packetSize = 0;\n        this.reader = null\n    }\n\n\n    setPacketData(data) {\n        this.data = data;\n    }\n\n\n    toHexString(){\n        if(this.reader === null)\n            throw new Error(\"Reader is null\");\n\n        return this.reader.toHexString();\n    }\n\n\n    static parsePacket(p) {\n         throw new Error(\"Not implemented\");\n    }\n\n    static parsePacketData(packetSize,reader,packet) {\n        let p = new packet();\n        p.reader = reader;\n        p.data = reader.data;\n        p.packetSize = packetSize;\n        return packet.parsePacket(p);\n    }\n\n    handleReceivedPacket(packet,client) {\n        throw new Error(\"Not implemented\");\n    }\n\n    finalize() {\n        throw new Error(\"Not implemented\");\n    }\n\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Packet);\n\n//# sourceURL=webpack:///./src/network/packet.js?");

/***/ }),

/***/ "./src/network/packets/direction.js":
/*!******************************************!*\
  !*** ./src/network/packets/direction.js ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _packet_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../packet.js */ \"./src/network/packet.js\");\n/* harmony import */ var _utils_writer_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/writer.js */ \"./src/network/utils/writer.js\");\n/* harmony import */ var _ui_objects_player_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../ui/objects/player.js */ \"./src/ui/objects/player.js\");\n/* harmony import */ var _ui_utils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../ui/utils.js */ \"./src/ui/utils.js\");\n/* harmony import */ var _ui_objects_point__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../ui/objects/point */ \"./src/ui/objects/point.js\");\n\n\n\n\n\n\n\nclass DirectionPacket extends _packet_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\n\n    constructor(direction, position) {\n        super();\n        this.dir = direction;\n        this.packetId = 1006;\n        this.position = position;\n    }\n\n\n    // Handel Server Response\n    static parsePacket(p) {\n        return p;\n    }\n\n    finalize() {\n        // Handle Server Request\n        // Send Empty Packet As Ask For Ready\n        const writer = new _utils_writer_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"](this.packetId);\n        writer.writeStringInBytes(this.dir);\n        writer.writeIntInBytes(this.position.x, 2);\n        writer.writeIntInBytes(this.position.y, 2);\n        return writer.finalize();\n    }\n\n\n    handleReceivedPacket(packet, client) {\n    }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (DirectionPacket);\n\n//# sourceURL=webpack:///./src/network/packets/direction.js?");

/***/ }),

/***/ "./src/network/packets/fillArea.js":
/*!*****************************************!*\
  !*** ./src/network/packets/fillArea.js ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _packet__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../packet */ \"./src/network/packet.js\");\n/* harmony import */ var _utils_reader_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/reader.js */ \"./src/network/utils/reader.js\");\n/* harmony import */ var _utils_writer_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils/writer.js */ \"./src/network/utils/writer.js\");\n/* harmony import */ var _ui_objects_rectangle_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../ui/objects/rectangle.js */ \"./src/ui/objects/rectangle.js\");\n/* harmony import */ var _ui_objects_point_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../ui/objects/point.js */ \"./src/ui/objects/point.js\");\n/* harmony import */ var _ui_utils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../ui/utils.js */ \"./src/ui/utils.js\");\n/* harmony import */ var _ui_objects_block__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../ui/objects/block */ \"./src/ui/objects/block.js\");\n\n\n\n\n\n\n\n\nclass FillAreaPacket extends _packet__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\n    constructor() {\n        super();\n        this.packetId = 1003;\n        // Shape\n        this.rectangle = null;\n        this.width = 0;\n        this.height = 0;\n        this.x = 0;\n        this.y = 0;\n\n        // Colors\n        this.colorBrighter = 0;\n        this.colorDarker = 0;\n        this.colorSlightlyBrighter = 0\n        this.colorPattern = 0\n        this.colorPatternEdge = 0\n        this.playerId = 0;\n\n    }\n\n    finalize() {\n        // Handle Server Request\n        // Send Empty Packet As Ask For Ready\n        const writer = new _utils_writer_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"](this.packetId);\n        return writer.finalize();\n    }\n\n    static parsePacket(p) {\n        p.x = p.reader.readInt2();\n        p.y = p.reader.readInt2();\n        p.width = p.reader.readInt2();\n        p.height = p.reader.readInt2();\n\n        p.playerId = p.reader.readInt4();\n        p.colorBrighter = (0,_ui_utils_js__WEBPACK_IMPORTED_MODULE_5__.convertIntColorToHex)(p.reader.readInt4());\n        p.colorDarker = (0,_ui_utils_js__WEBPACK_IMPORTED_MODULE_5__.convertIntColorToHex)(p.reader.readInt4());\n        p.colorSlightlyBrighter = (0,_ui_utils_js__WEBPACK_IMPORTED_MODULE_5__.convertIntColorToHex)(p.reader.readInt4());\n        p.colorPattern = (0,_ui_utils_js__WEBPACK_IMPORTED_MODULE_5__.convertIntColorToHex)(p.reader.readInt4());\n        p.colorPatternEdge = (0,_ui_utils_js__WEBPACK_IMPORTED_MODULE_5__.convertIntColorToHex)(p.reader.readInt4());\n\n        p.rectangle = new _ui_objects_rectangle_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"](new _ui_objects_point_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"](p.x, p.y), new _ui_objects_point_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"](p.x + p.width, p.y + p.height));\n\n\n        return p;\n    }\n\n    handleReceivedPacket(packet, client) {\n        console.log(\"Received Fill Area Packet\");\n\n        const colorsWithId = {\n            brighter: packet.colorBrighter,\n            darker: packet.colorDarker,\n            slightlyBrighter: packet.colorSlightlyBrighter,\n            pattern: packet.colorPattern,\n            patternEdge: packet.colorPatternEdge,\n            id: packet.playerId\n        }\n        _ui_objects_block__WEBPACK_IMPORTED_MODULE_6__[\"default\"].convertRectToBlock(packet.rectangle, colorsWithId,window.gameEngine.gameObjects.blocks,\n            window.gameEngine.gameObjects.myPlayer\n            );\n\n    }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (FillAreaPacket);\n\n//# sourceURL=webpack:///./src/network/packets/fillArea.js?");

/***/ }),

/***/ "./src/network/packets/namePacket.js":
/*!*******************************************!*\
  !*** ./src/network/packets/namePacket.js ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _packet_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../packet.js */ \"./src/network/packet.js\");\n/* harmony import */ var _utils_reader_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/reader.js */ \"./src/network/utils/reader.js\");\n/* harmony import */ var _utils_writer_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils/writer.js */ \"./src/network/utils/writer.js\");\n/* harmony import */ var _client_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../client.js */ \"./src/network/client.js\");\n/* harmony import */ var _ready__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./ready */ \"./src/network/packets/ready.js\");\n/* harmony import */ var _ui_objects_player__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../ui/objects/player */ \"./src/ui/objects/player.js\");\n/* harmony import */ var _ui_objects_point__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../ui/objects/point */ \"./src/ui/objects/point.js\");\n\n\n\n\n\n\n\n\nclass NamePacket extends _packet_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\n\n    constructor(name) {\n        super();\n        this.name = name;\n        this.packetId = 1001;\n        this.isVerified = false;\n        this.userId = 0;\n    }\n\n\n    // Handel Server Response\n    static parsePacket(p) {\n        const nameLength = p.reader.readInt2();\n        p.name = p.reader.readStringFromBytes(nameLength);\n        p.userId = p.reader.readInt4();\n        p.isVerified = p.reader.readInt1() === 1;\n        return p;\n    }\n\n    finalize() {\n        const writer = new _utils_writer_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"](this.packetId);\n        writer.writeStringInBytes(this.name);\n        writer.writeIntInBytes(this.isVerified ? 1 : 0, 1)\n        return writer.finalize();\n    }\n\n\n    handleReceivedPacket(packet, client) {\n        console.log(\"Received Name Packet\");\n\n\n        if (packet.isVerified) {\n\n            const player = new _ui_objects_player__WEBPACK_IMPORTED_MODULE_5__[\"default\"](new _ui_objects_point__WEBPACK_IMPORTED_MODULE_6__[\"default\"](0,0), packet.userId);\n            player.isMyPlayer = true;\n\n            client.player = player;\n            client.isVerified = packet.isVerified;\n            client.username = packet.name;\n            client.playerStatus = _client_js__WEBPACK_IMPORTED_MODULE_3__.PlayerStatus.READY;\n            window.gameEngine.gameObjects.addPlayer(player);\n\n            client.send(new _ready__WEBPACK_IMPORTED_MODULE_4__[\"default\"]());\n        }else\n        {\n            //TODO Handle Not Verified Name\n        }\n\n    }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (NamePacket);\n\n//# sourceURL=webpack:///./src/network/packets/namePacket.js?");

/***/ }),

/***/ "./src/network/packets/packets.js":
/*!****************************************!*\
  !*** ./src/network/packets/packets.js ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _namePacket__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./namePacket */ \"./src/network/packets/namePacket.js\");\n/* harmony import */ var _ready__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ready */ \"./src/network/packets/ready.js\");\n/* harmony import */ var _fillArea__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./fillArea */ \"./src/network/packets/fillArea.js\");\n/* harmony import */ var _playerState__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./playerState */ \"./src/network/packets/playerState.js\");\n/* harmony import */ var _waitingBlocks__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./waitingBlocks */ \"./src/network/packets/waitingBlocks.js\");\n/* harmony import */ var _direction__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./direction */ \"./src/network/packets/direction.js\");\n/* harmony import */ var _ping__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./ping */ \"./src/network/packets/ping.js\");\n/* harmony import */ var _pong__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./pong */ \"./src/network/packets/pong.js\");\n/* harmony import */ var _requestWaitingBlocks__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./requestWaitingBlocks */ \"./src/network/packets/requestWaitingBlocks.js\");\n/* harmony import */ var _playerRemoved__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./playerRemoved */ \"./src/network/packets/playerRemoved.js\");\n\n\n\n\n\n\n\n\n\n\n\nconst PacketsDictionary = {\n    1001: _namePacket__WEBPACK_IMPORTED_MODULE_0__[\"default\"],\n    1004: _playerState__WEBPACK_IMPORTED_MODULE_3__[\"default\"],\n    1002: _ready__WEBPACK_IMPORTED_MODULE_1__[\"default\"],\n    1003: _fillArea__WEBPACK_IMPORTED_MODULE_2__[\"default\"],\n    1005: _waitingBlocks__WEBPACK_IMPORTED_MODULE_4__[\"default\"],\n    1006: _direction__WEBPACK_IMPORTED_MODULE_5__[\"default\"],\n    1007: _ping__WEBPACK_IMPORTED_MODULE_6__[\"default\"],\n    1008: _pong__WEBPACK_IMPORTED_MODULE_7__[\"default\"],\n    1009: _requestWaitingBlocks__WEBPACK_IMPORTED_MODULE_8__[\"default\"],\n    1010: _playerRemoved__WEBPACK_IMPORTED_MODULE_9__[\"default\"],\n}\n\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (PacketsDictionary);\n\n//# sourceURL=webpack:///./src/network/packets/packets.js?");

/***/ }),

/***/ "./src/network/packets/ping.js":
/*!*************************************!*\
  !*** ./src/network/packets/ping.js ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _packet_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../packet.js */ \"./src/network/packet.js\");\n/* harmony import */ var _utils_writer_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/writer.js */ \"./src/network/utils/writer.js\");\n/* harmony import */ var _ui_objects_player_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../ui/objects/player.js */ \"./src/ui/objects/player.js\");\n/* harmony import */ var _ui_utils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../ui/utils.js */ \"./src/ui/utils.js\");\n/* harmony import */ var _ui_objects_point__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../ui/objects/point */ \"./src/ui/objects/point.js\");\n\n\n\n\n\n\n\nclass PingPacket extends _packet_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\n\n    constructor() {\n        super();\n        this.packetId = 1007;\n    }\n\n\n    // Handel Server Response\n    static parsePacket(p) {\n        return p;\n    }\n\n    finalize() {\n        // Handle Server Request\n        const writer = new _utils_writer_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"](this.packetId);\n        return writer.finalize();\n    }\n\n\n    handleReceivedPacket(packet, client) {\n    }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (PingPacket);\n\n//# sourceURL=webpack:///./src/network/packets/ping.js?");

/***/ }),

/***/ "./src/network/packets/playerRemoved.js":
/*!**********************************************!*\
  !*** ./src/network/packets/playerRemoved.js ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _packet_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../packet.js */ \"./src/network/packet.js\");\n/* harmony import */ var _utils_writer_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/writer.js */ \"./src/network/utils/writer.js\");\n/* harmony import */ var _ui_objects_player_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../ui/objects/player.js */ \"./src/ui/objects/player.js\");\n/* harmony import */ var _ui_utils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../ui/utils.js */ \"./src/ui/utils.js\");\n/* harmony import */ var _ui_objects_point__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../ui/objects/point */ \"./src/ui/objects/point.js\");\n\n\n\n\n\n\n\nclass PlayerRemovedPacket extends _packet_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\n\n    constructor() {\n        super();\n        this.userId = null;\n        this.packetId = 1010;\n        this.player = null;\n\n    }\n\n\n    // Handel Server Response\n    static parsePacket(p) {\n        p.userId = p.reader.readInt4();\n        return p;\n    }\n\n    finalize() {\n        // Handle Server Request\n        // Send Empty Packet As Ask For Ready\n        const writer = new _utils_writer_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"](this.packetId);\n        return writer.finalize();\n    }\n\n\n    handleReceivedPacket(packet, client) {\n        const player = window.gameEngine.gameObjects.players[packet.userId];\n        if(player)\n            window.gameEngine.gameObjects.removePlayer(player);\n\n    }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (PlayerRemovedPacket);\n\n//# sourceURL=webpack:///./src/network/packets/playerRemoved.js?");

/***/ }),

/***/ "./src/network/packets/playerState.js":
/*!********************************************!*\
  !*** ./src/network/packets/playerState.js ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _packet_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../packet.js */ \"./src/network/packet.js\");\n/* harmony import */ var _utils_writer_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/writer.js */ \"./src/network/utils/writer.js\");\n/* harmony import */ var _ui_objects_player_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../ui/objects/player.js */ \"./src/ui/objects/player.js\");\n/* harmony import */ var _ui_utils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../ui/utils.js */ \"./src/ui/utils.js\");\n/* harmony import */ var _ui_objects_point__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../ui/objects/point */ \"./src/ui/objects/point.js\");\n\n\n\n\n\n\n\nclass PlayerStatePacket extends _packet_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\n\n    constructor(userId, mapSize) {\n        super();\n        this.userId = userId;\n        this.packetId = 1004;\n        this.player = null;\n\n    }\n\n\n    // Handel Server Response\n    static parsePacket(p) {\n        p.userId = p.reader.readInt4();\n        p.playerName = p.reader.readString();\n\n        p.playerX = p.reader.readInt2();\n        p.playerY = p.reader.readInt2();\n        p.direction = p.reader.readString();\n\n\n        // Colors\n        p.colorBrighter = (0,_ui_utils_js__WEBPACK_IMPORTED_MODULE_3__.convertIntColorToHex)(p.reader.readInt4());\n        p.colorDarker = (0,_ui_utils_js__WEBPACK_IMPORTED_MODULE_3__.convertIntColorToHex)(p.reader.readInt4());\n        p.colorSlightlyBrighter = (0,_ui_utils_js__WEBPACK_IMPORTED_MODULE_3__.convertIntColorToHex)(p.reader.readInt4());\n        p.colorPattern = (0,_ui_utils_js__WEBPACK_IMPORTED_MODULE_3__.convertIntColorToHex)(p.reader.readInt4());\n        p.colorPatternEdge = (0,_ui_utils_js__WEBPACK_IMPORTED_MODULE_3__.convertIntColorToHex)(p.reader.readInt4());\n\n        return p;\n    }\n\n    finalize() {\n        // Handle Server Request\n        // Send Empty Packet As Ask For Ready\n        const writer = new _utils_writer_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"](this.packetId);\n        return writer.finalize();\n    }\n\n\n    handleReceivedPacket(packet, client) {\n        console.log(\"PlayerState Ready Packet\");\n\n        const myPlayer = client.player;\n\n        let player = new _ui_objects_player_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"](new _ui_objects_point__WEBPACK_IMPORTED_MODULE_4__[\"default\"](0, 0), packet.userId);\n        player = window.gameEngine.gameObjects.addPlayer(player);\n\n\n        player.name = packet.playerName;\n        player.colorBrighter = packet.colorBrighter;\n        player.colorDarker = packet.colorDarker;\n        player.colorSlightlyBrighter = packet.colorSlightlyBrighter;\n        player.colorPattern = packet.colorPattern;\n        player.colorPatternEdge = packet.colorPatternEdge;\n\n\n        player.hasReceivedPosition = true;\n\n        // When Receiving Player State\n        // Next Frame Move Relative To Server Pos\n        player.moveRelativeToServerPosNextFrame = true;\n        player.lastServerPosSentTime = Date.now();\n        myPlayer.lastPosHasBeenConfirmed = true;\n\n\n        let offset = player.calMoveOffset();\n        let newPos = new _ui_objects_point__WEBPACK_IMPORTED_MODULE_4__[\"default\"](packet.playerX, packet.playerY);\n        let newPosOffset = newPos.clone();\n        let newDir = packet.direction;\n\n        newPosOffset = _ui_objects_player_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].movePlayer(newPosOffset, newDir, offset);\n        let serverSyncedWithClient = true;\n\n\n        if (player.isMyPlayer) {\n            player.lastPosServerSentTime = Date.now();\n\n            // Check If Server Synced With Client\n            // To Draw This Movement or Ignore It\n            // if server predict the same movement\n            // or the movement is to close to server\n            serverSyncedWithClient = player.checkClientMovementSyncedWithServer(newDir\n            , newPosOffset, newPos);\n\n            if (serverSyncedWithClient) {\n                player.myNextDir = newDir;\n                player.changeCurrentDir(newDir, newPos, false, false);\n                player.requestWaitingBlocks();\n                player.sendDirQueue = [];\n            }\n\n            player.serverPos = newPosOffset.clone();\n            player.serverDir = newDir;\n\n            player.removeBlocksOutsideCamera();\n        } else {\n            player.updatePlayerDirection(newDir);\n        }\n\n        if (serverSyncedWithClient) {\n            player.position=newPosOffset.clone();\n            player.addWaitingBlocks(newPos);\n        }\n\n        //Start To Handel Draw Position\n        if (!player.drawPosSet) {\n            player.drawPosSet = true;\n            player.drawPosition = player.position.clone();\n        }\n\n    }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (PlayerStatePacket);\n\n//# sourceURL=webpack:///./src/network/packets/playerState.js?");

/***/ }),

/***/ "./src/network/packets/pong.js":
/*!*************************************!*\
  !*** ./src/network/packets/pong.js ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _packet_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../packet.js */ \"./src/network/packet.js\");\n/* harmony import */ var _utils_writer_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/writer.js */ \"./src/network/utils/writer.js\");\n/* harmony import */ var _ui_objects_player_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../ui/objects/player.js */ \"./src/ui/objects/player.js\");\n/* harmony import */ var _ui_utils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../ui/utils.js */ \"./src/ui/utils.js\");\n/* harmony import */ var _ui_objects_point__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../ui/objects/point */ \"./src/ui/objects/point.js\");\n/* harmony import */ var _utils_math__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../utils/math */ \"./src/utils/math.js\");\n\n\n\n\n\n\n\nclass PongPacket extends _packet_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\n\n    constructor() {\n        super();\n        this.packetId = 1008;\n    }\n\n\n    // Handel Server Response\n    static parsePacket(p) {\n        return p;\n    }\n\n    finalize() {\n        // Handle Server Request\n        const writer = new _utils_writer_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"](this.packetId);\n        return writer.finalize();\n    }\n\n\n    handleReceivedPacket(packet, client) {\n        const myPlayer = client.player;\n        const ping = Date.now() - myPlayer.lastPingTime;\n        const currentPingDiff = Math.abs(ping - myPlayer.severLastPing);\n        myPlayer.serverPingDiff = Math.max(myPlayer.serverPingDiff, currentPingDiff);\n        myPlayer.serverPingDiff = _utils_math__WEBPACK_IMPORTED_MODULE_5__.linearInterpolate(currentPingDiff, myPlayer.serverPingDiff, 0.5);\n        myPlayer.serverAvgPing = _utils_math__WEBPACK_IMPORTED_MODULE_5__.linearInterpolate(myPlayer.serverAvgPing, ping, 0.5);\n        myPlayer.severLastPing = ping;\n        myPlayer.lastPingTime = Date.now();\n        myPlayer.waitingForPing = false;\n    }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (PongPacket);\n\n//# sourceURL=webpack:///./src/network/packets/pong.js?");

/***/ }),

/***/ "./src/network/packets/ready.js":
/*!**************************************!*\
  !*** ./src/network/packets/ready.js ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _packet_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../packet.js */ \"./src/network/packet.js\");\n/* harmony import */ var _utils_writer_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/writer.js */ \"./src/network/utils/writer.js\");\n/* harmony import */ var _ui_objects_player_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../ui/objects/player.js */ \"./src/ui/objects/player.js\");\n/* harmony import */ var _ui_utils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../ui/utils.js */ \"./src/ui/utils.js\");\n/* harmony import */ var _ui_objects_point__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../ui/objects/point */ \"./src/ui/objects/point.js\");\n\n\n\n\n\n\n\nclass Ready extends _packet_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\n\n    constructor(userId, mapSize) {\n        super();\n        this.userId = userId;\n        this.packetId = 1002;\n        this.mapSize = mapSize;\n        this.playerName = \"\";\n        this.playerX = 0;\n        this.playerY = 0;\n        this.direction = 0;\n\n\n        // Colors\n        this.colorBrighter = 0;\n        this.colorDarker = 0;\n        this.colorSlightlyBrighter = 0\n        this.colorPattern = 0\n        this.colorPatternEdge = 0\n    }\n\n\n    // Handel Server Response\n    static parsePacket(p) {\n        p.userId = p.reader.readInt4();\n        p.mapSize = p.reader.readInt2();\n        p.playerName = p.reader.readString();\n\n        p.playerX = p.reader.readInt2();\n        p.playerY = p.reader.readInt2();\n        p.direction = p.reader.readString();\n\n\n        // Colors\n        p.colorBrighter = (0,_ui_utils_js__WEBPACK_IMPORTED_MODULE_3__.convertIntColorToHex)(p.reader.readInt4());\n        p.colorDarker = (0,_ui_utils_js__WEBPACK_IMPORTED_MODULE_3__.convertIntColorToHex)(p.reader.readInt4());\n        p.colorSlightlyBrighter = (0,_ui_utils_js__WEBPACK_IMPORTED_MODULE_3__.convertIntColorToHex)(p.reader.readInt4());\n        p.colorPattern = (0,_ui_utils_js__WEBPACK_IMPORTED_MODULE_3__.convertIntColorToHex)(p.reader.readInt4());\n        p.colorPatternEdge = (0,_ui_utils_js__WEBPACK_IMPORTED_MODULE_3__.convertIntColorToHex)(p.reader.readInt4());\n\n        return p;\n    }\n\n    finalize() {\n        // Handle Server Request\n        // Send Empty Packet As Ask For Ready\n        const writer = new _utils_writer_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"](this.packetId);\n        return writer.finalize();\n    }\n\n\n    handleReceivedPacket(packet, client) {\n        console.log(\"Received Ready Packet\");\n        const player = client.player;\n\n        player.name = packet.playerName;\n        player.colorBrighter = packet.colorBrighter;\n        player.colorDarker = packet.colorDarker;\n        player.colorSlightlyBrighter = packet.colorSlightlyBrighter;\n        player.colorPattern = packet.colorPattern;\n        player.colorPatternEdge = packet.colorPatternEdge;\n        // player.position = new Point(packet.playerX, packet.playerY);\n        // player.dir = packet.direction;\n        console.log(\"READY\",player);\n        window.gameEngine.gameObjects.mapSize = packet.mapSize;\n        player.isReady = true;\n        console.log(window.gameEngine.gameObjects);\n\n\n    }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Ready);\n\n//# sourceURL=webpack:///./src/network/packets/ready.js?");

/***/ }),

/***/ "./src/network/packets/requestWaitingBlocks.js":
/*!*****************************************************!*\
  !*** ./src/network/packets/requestWaitingBlocks.js ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _packet_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../packet.js */ \"./src/network/packet.js\");\n/* harmony import */ var _utils_writer_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/writer.js */ \"./src/network/utils/writer.js\");\n\n\n\nclass RequestWaitingBlockPacket extends _packet_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\n\n    constructor() {\n        super();\n        this.packetId = 1009;\n\n\n    }\n\n\n    // Handel Server Response\n    static parsePacket(p) {\n\n        return p;\n    }\n\n    finalize() {\n        // Handle Server Request\n        // Send Empty Packet As Ask For Ready\n        const writer = new _utils_writer_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"](this.packetId);\n        return writer.finalize();\n    }\n\n\n    handleReceivedPacket(packet, client) {\n        console.log(\"RequestWaitingBlockPacket\", packet);\n\n    }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (RequestWaitingBlockPacket);\n\n//# sourceURL=webpack:///./src/network/packets/requestWaitingBlocks.js?");

/***/ }),

/***/ "./src/network/packets/waitingBlocks.js":
/*!**********************************************!*\
  !*** ./src/network/packets/waitingBlocks.js ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _packet_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../packet.js */ \"./src/network/packet.js\");\n/* harmony import */ var _utils_writer_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/writer.js */ \"./src/network/utils/writer.js\");\n/* harmony import */ var _ui_objects_player_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../ui/objects/player.js */ \"./src/ui/objects/player.js\");\n/* harmony import */ var _ui_utils_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../ui/utils.js */ \"./src/ui/utils.js\");\n/* harmony import */ var _ui_objects_point__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../ui/objects/point */ \"./src/ui/objects/point.js\");\n\n\n\n\n\n\n\nclass WaitingBlocksPacket extends _packet_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\n\n    constructor() {\n        super();\n        this.packetId = 1005;\n        this.player = null;\n        this.userId = null;\n        this.blocks = [];\n\n    }\n\n\n    // Handel Server Response\n    static parsePacket(p) {\n        p.userId = p.reader.readInt4();\n        const blocksCount = p.reader.readInt2();\n        for (let i = 0; i < blocksCount; i++) {\n            const vec = new _ui_objects_point__WEBPACK_IMPORTED_MODULE_4__[\"default\"](p.reader.readInt2(), p.reader.readInt2());\n            p.blocks.push(vec);\n        }\n\n\n        return p;\n    }\n\n    finalize() {\n        // Handle Server Request\n        // Send Empty Packet As Ask For Ready\n        const writer = new _utils_writer_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"](this.packetId);\n        return writer.finalize();\n    }\n\n\n    handleReceivedPacket(packet, client) {\n\n\n        const playerList = window.gameEngine.gameObjects.players;\n        let player = null;\n        if (packet.userId in playerList) {\n            player = playerList[packet.userId];\n        } else {\n            throw new Error(\"Player Not Found We Need To Send Player Colors\");\n        }\n\n\n\n\n        let replaceStack = false;\n        if (player.isMyPlayer) {\n            if (player.skipGettingWaitingBlocksRespose) {\n                player.skipGettingWaitingBlocksRespose = false;\n                player.waitingPushedDuringReceiving = [];\n            } else {\n                if (player.isGettingWaitingBlocks) {\n                    player.isGettingWaitingBlocks = false;\n                    replaceStack = true;\n                    for (let i = 0; i < player.waitingPushedDuringReceiving.length; i++) {\n                        const vec = player.waitingPushedDuringReceiving[i];\n                        this.blocks.push(vec);\n                    }\n                    player.waitingPushedDuringReceiving = [];\n                }\n\n                if (player.waitingBlocks.length > 0) {\n                    const lastBlock = player.waitingBlocks[player.waitingBlocks.length - 1];\n                    if (lastBlock.blocks.length <= 0 && this.blocks.length > 0) {\n                        player.requestWaitingBlocks();\n                    }\n                }\n\n            }\n        }\n\n\n        if (replaceStack) {\n            if (player.waitingBlocks.length > 0) {\n                const lastBlock = player.waitingBlocks[player.waitingBlocks.length - 1];\n                lastBlock.blocks = this.blocks;\n                lastBlock.vanishTimer = 0;\n            } else {\n                replaceStack = false;\n            }\n        }\n        if (!replaceStack) {\n            player.waitingBlocks.push({\n                vanishTimer: 0,\n                blocks: this.blocks\n            });\n        }\n\n        console.log(\"Waiting Blocks\", [...player.waitingBlocks]);\n\n    }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (WaitingBlocksPacket);\n\n//# sourceURL=webpack:///./src/network/packets/waitingBlocks.js?");

/***/ }),

/***/ "./src/network/socket.js":
/*!*******************************!*\
  !*** ./src/network/socket.js ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nclass Socket{\n    constructor(server,client) {\n        this.server = server;\n        this.onReceive = client.onReceive.bind(client);\n        this.onOpen = client.onOpen.bind(client);\n        this.onClose = client.onClose.bind(client);\n        this.ws = null;\n    }\n\n    iniSocket() {\n        this.ws = new WebSocket(this.server);\n        let ws = this.ws;\n        ws.binaryType = \"arraybuffer\";\n        ws.onopen = this.onOpen;\n        ws.onmessage = this.onReceive;\n        ws.onclose = this.onClose;\n    }\n\n    send(packet) {\n        this.ws.send(packet.finalize());\n    }\n\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Socket);\n\n//# sourceURL=webpack:///./src/network/socket.js?");

/***/ }),

/***/ "./src/network/utils/bytesUtils.js":
/*!*****************************************!*\
  !*** ./src/network/utils/bytesUtils.js ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   bytesToInt: () => (/* binding */ bytesToInt),\n/* harmony export */   intToBytes: () => (/* binding */ intToBytes),\n/* harmony export */   toHexString: () => (/* binding */ toHexString)\n/* harmony export */ });\nconst intToBytes = (value, byteorder = 'little', signed = false, numBytes = 4) => {\n    const littleEndian = (byteorder === 'little');\n    const bytes = new Uint8Array(numBytes);\n    const view = new DataView(bytes.buffer);\n\n    if (signed && value < 0) {\n        // Convert negative value to 2's complement representation\n        value = (1 << (8 * numBytes)) + value;\n    }\n\n    for (let i = 0; i < numBytes; i++) {\n        const shift = littleEndian ? i * 8 : (numBytes - 1 - i) * 8;\n        view.setUint8(i, (value >> shift) & 0xFF);\n    }\n\n    return bytes;\n}\nconst bytesToInt = (bytes, byteorder = 'little', signed = false) => {\n    const view = new DataView(bytes.buffer);\n    const littleEndian = (byteorder === 'little');\n\n    if (bytes.length <= 0 || bytes.length > 8) {\n        throw new Error('Unsupported number of bytes');\n    }\n    let value = 0;\n\n    for (let i = 0; i < bytes.length; i++) {\n        const shift = littleEndian ? i * 8 : (bytes.length - 1 - i) * 8;\n        value |= view.getUint8(i) << shift;\n    }\n    if (signed) {\n        const signBit = 1 << (8 * bytes.length - 1);\n        if (value & signBit) {\n            value = value - (signBit << 1);\n        }\n    }\n    return value;\n}\n\n\nconst toHexString = (data) => {\n    return Array.from(data)\n        .map(byte => '0x' + byte.toString(16).padStart(2, '0'))\n        .join(' ');\n}\n\n\n\n//# sourceURL=webpack:///./src/network/utils/bytesUtils.js?");

/***/ }),

/***/ "./src/network/utils/reader.js":
/*!*************************************!*\
  !*** ./src/network/utils/reader.js ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _bytesUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./bytesUtils.js */ \"./src/network/utils/bytesUtils.js\");\n\n\n\nclass Reader {\n    constructor(data) {\n        this.data = data;\n        this.position = 0;\n    }\n\n    readIntFromBytes(bytesNumber = 2) {\n        const bytes = this.data.slice(this.position, this.position + bytesNumber);\n        this.position += bytesNumber;\n        return (0,_bytesUtils_js__WEBPACK_IMPORTED_MODULE_0__.bytesToInt)(bytes, 'little', false);\n    }\n\n    readStringFromBytes(stringLength) {\n        const bytes = this.data.slice(this.position, this.position + stringLength);\n        this.position += stringLength;\n        return new TextDecoder().decode(bytes);\n    }\n\n    readString() {\n        const stringLength = this.readInt2();\n        return this.readStringFromBytes(stringLength);\n    }\n\n\n    readInt1() {\n        return this.readIntFromBytes(1);\n    }\n    readInt4() {\n        return this.readIntFromBytes(4);\n    }\n    readInt2() {\n        return this.readIntFromBytes(2);\n    }\n    readInt8() {\n        return this.readIntFromBytes(8);\n    }\n    readInt16() {\n        return this.readIntFromBytes(16);\n    }\n    readInt32() {\n        return this.readIntFromBytes(32);\n    }\n\n\n    toHexString()\n    {\n        return (0,_bytesUtils_js__WEBPACK_IMPORTED_MODULE_0__.toHexString)(this.data);\n    }\n\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Reader);\n\n//# sourceURL=webpack:///./src/network/utils/reader.js?");

/***/ }),

/***/ "./src/network/utils/writer.js":
/*!*************************************!*\
  !*** ./src/network/utils/writer.js ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _bytesUtils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./bytesUtils.js */ \"./src/network/utils/bytesUtils.js\");\n\n\nclass Writer {\n    // Infinity\n    constructor(packetId = -1) {\n        this.packetSize = 20;\n        this.packetId = packetId;\n\n        this.data = new Uint8Array(this.packetSize);\n        this.position = 0;\n        this.setPacketId();\n    }\n\n    setPacketId() {\n        this.position = 2;\n        this.writeIntInBytes(this.packetId);\n        this.updatePacketSize()\n\n    }\n\n    updatePacketSize() {\n        this.packetSize = this.position;\n        const currentOffset = this.position;\n        this.position = 0;\n        const b = (0,_bytesUtils_js__WEBPACK_IMPORTED_MODULE_0__.intToBytes)(this.packetSize, 'little', false, 2);\n        this.data.set(b, this.position);\n        this.position = currentOffset;\n    }\n\n    writeIntInBytes(number, bytesNumber = 2) {\n        let bytes = (0,_bytesUtils_js__WEBPACK_IMPORTED_MODULE_0__.intToBytes)(number, 'little', false, bytesNumber);\n        this.ensureCapacity(bytesNumber);\n        this.data.set(bytes, this.position);\n        this.position += bytesNumber;\n        this.updatePacketSize();\n    }\n\n\n    writeStringInBytes(string) {\n        let stringLength = string.length;\n        this.writeIntInBytes(stringLength, 2);\n        let bytes = new TextEncoder().encode(string);\n        this.ensureCapacity(stringLength);\n        this.data.set(bytes, this.position);\n        this.position += stringLength;\n        this.updatePacketSize();\n    }\n\n    ensureCapacity(requiredSize) {\n\n        if (this.position + requiredSize > this.data.length) {\n            const newSize = requiredSize + (this.data.length) * 2;\n            const newData = new Uint8Array(newSize);\n            newData.set(this.data);\n            this.data = newData;\n        }\n\n    }\n\n    finalize() {\n        return this.data.slice(0, this.position);\n    }\n\n    toHexString() {\n        return (0,_bytesUtils_js__WEBPACK_IMPORTED_MODULE_0__.toHexString)(this.finalize());\n    }\n\n\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Writer);\n\n//# sourceURL=webpack:///./src/network/utils/writer.js?");

/***/ }),

/***/ "./src/ui/objects/block.js":
/*!*********************************!*\
  !*** ./src/ui/objects/block.js ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _point_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./point.js */ \"./src/ui/objects/point.js\");\n/* harmony import */ var _utils_math_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils/math.js */ \"./src/utils/math.js\");\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils.js */ \"./src/ui/utils.js\");\n/* harmony import */ var _rectangle_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./rectangle.js */ \"./src/ui/objects/rectangle.js\");\n\n\n\n\n\nclass Block {\n    constructor(p) {\n        this.position = p\n\n        this.currentBlock = -1;\n        this.nextBlock = -1;\n\n\n        this.animDirection = 0;\n        this.animProgress = 0;\n        this.animDelay = 0;\n\n        this.colorsWithId = null;\n\n        this.lastSetTime = Date.now()\n    }\n\n    setBlockId(id, delay) {\n        this.lastSetTime = Date.now();\n        if (!delay) {\n            this.currentBlock = this.nextBlock = id;\n            this.animDirection = 0;\n            this.animProgress = 1;\n        } else {\n\n            this.animDelay = delay;\n\n            let isCurrentBlock = id === this.currentBlock;\n            let isNextBlock = id === this.nextBlock;\n\n            if (isCurrentBlock && isNextBlock) {\n                if (this.animDirection === -1) {\n                    this.animDirection = 1;\n                }\n            }\n\n            if (isCurrentBlock && !isNextBlock) {\n                this.animDirection = 1;\n                this.nextBlock = this.currentBlock;\n            }\n\n            if (!isCurrentBlock && isNextBlock) {\n                if (this.animDirection === 1) {\n                    this.animDirection = -1;\n                }\n            }\n\n            if (!isCurrentBlock && !isNextBlock) {\n                this.nextBlock = id;\n                this.animDirection = -1;\n            }\n        }\n\n    }\n\n    static getBlockAt(p, blocks) {\n        for (let block of blocks) {\n            if (block.position.equals(p)) {\n                return block;\n            }\n        }\n        let block = new Block(p);\n        blocks.push(block);\n        return block;\n\n    }\n\n    handleAnimation() {\n        if (this.animDelay > 0) {\n            this.animDelay -= window.gameEngine.deltaTime;\n        } else {\n            this.animProgress += window.gameEngine.deltaTime * this.animDirection * 0.003;\n        }\n\n        if (this.animProgress > 1) {\n            this.animProgress = 1;\n            this.animDirection = 0;\n        }\n\n        if (this.animProgress < 0) {\n            this.animProgress = 0;\n            this.animDirection = 1;\n            this.currentBlock = this.nextBlock;\n            return false\n        }\n        return true;\n    }\n\n\n    drawBorderBlock(ctx, color, size) {\n        if (this.currentBlock !== 0)\n            return;\n\n        ctx.fillStyle = color;\n        // Calculate the new position Base Of the size\n        const newP = window.game.calBlocksGap(this.position, size);\n        ctx.fillRect(newP.x, newP.y, size, size);\n    }\n\n    drawEmptyBlock(ctx, darkColor, brightColor, size) {\n        if (this.currentBlock !== 1)\n            return;\n\n\n        const sizeFactor = 10 / 7;\n        const newS = size * sizeFactor; // 10\n        let animProgress = 0;\n\n        const newP = window.game.calBlocksGap(this.position, newS);\n        const spacingTwenty = _utils_math_js__WEBPACK_IMPORTED_MODULE_1__.calPercentage(newS, 0.2);\n        const spacingTen = _utils_math_js__WEBPACK_IMPORTED_MODULE_1__.calPercentage(newS, 0.1); // 1\n        const spacingNinty = _utils_math_js__WEBPACK_IMPORTED_MODULE_1__.calPercentage(newS, 0.9);\n\n\n        /////////////////////// SHADOW ////////////////////////\n        if (this.animProgress > .8) {\n            _utils_js__WEBPACK_IMPORTED_MODULE_2__.drawInCtxRec(ctx, newP, size, darkColor, spacingTwenty);\n        }\n\n        ctx.fillStyle = brightColor;\n        if (this.animProgress === 1) {\n            _utils_js__WEBPACK_IMPORTED_MODULE_2__.drawInCtxRec(ctx, newP, size, brightColor, spacingTen);\n        } else if (this.animProgress < .4) {\n            animProgress = this.animProgress * 2.5;\n            ctx.beginPath();\n            ctx.moveTo(newP.x + spacingTwenty, newP.y + _utils_math_js__WEBPACK_IMPORTED_MODULE_1__.linearInterpolate(spacingNinty, spacingTwenty, animProgress));\n            ctx.lineTo(newP.x + spacingTwenty, newP.y + spacingNinty);\n            ctx.lineTo(newP.x + _utils_math_js__WEBPACK_IMPORTED_MODULE_1__.linearInterpolate(spacingTwenty, spacingNinty, animProgress), newP.y + spacingNinty);\n            ctx.fill();\n        } else if (this.animProgress < 0.8) {\n            animProgress = this.animProgress * 2.5 - 1;\n            ctx.beginPath();\n            ctx.moveTo(newP.x + spacingTwenty, newP.y + spacingTwenty);\n            ctx.lineTo(newP.x + spacingTwenty, newP.y + 9);\n            ctx.lineTo(newP.x + spacingNinty, newP.y + spacingNinty);\n            ctx.lineTo(newP.x + spacingNinty, newP.y + _utils_math_js__WEBPACK_IMPORTED_MODULE_1__.linearInterpolate(spacingNinty, spacingTwenty, animProgress));\n            ctx.lineTo(newP.x + _utils_math_js__WEBPACK_IMPORTED_MODULE_1__.linearInterpolate(spacingTwenty, spacingNinty, animProgress), newP.y + spacingTwenty);\n            ctx.fill();\n        } else {\n\n            animProgress = this.animProgress * 5 - 4;\n            _utils_js__WEBPACK_IMPORTED_MODULE_2__.drawInCtxRec(ctx, newP, size, brightColor, _utils_math_js__WEBPACK_IMPORTED_MODULE_1__.linearInterpolate(2, 1, animProgress));\n        }\n    }\n\n    drawRegularBlock(ctx, darkColor, brightColor, size) {\n\n\n        if (this.currentBlock < 2)\n            return;\n\n        if (this.colorsWithId === null) {\n            return;\n        }\n\n\n        let bcolor = this.colorsWithId.pattern;\n        let dcolor = this.colorsWithId.patternEdge;\n\n\n        const sizeFactor = 10 / 9;\n        const newS = size * sizeFactor; // 10\n        let animProgress = 0;\n\n        const newP = window.game.calBlocksGap(this.position, newS);\n        const spacingTwenty = _utils_math_js__WEBPACK_IMPORTED_MODULE_1__.calPercentage(newS, 0.2);\n        const spacingTen = _utils_math_js__WEBPACK_IMPORTED_MODULE_1__.calPercentage(newS, 0.1); // 1\n        const spacingNinty = _utils_math_js__WEBPACK_IMPORTED_MODULE_1__.calPercentage(newS, 0.9);\n\n        if (this.animProgress > 0.8) {\n            ctx.fillStyle = dcolor;\n            ctx.fillRect(newP.x + spacingTen, newP.y + spacingTen, size, size);\n        }\n\n\n        ctx.fillStyle = bcolor;\n        if (this.animProgress === 1) {\n            _utils_js__WEBPACK_IMPORTED_MODULE_2__.drawInCtxRec(ctx, newP, size, bcolor, spacingTen);\n        } else if (this.animProgress < .4) {\n            animProgress = this.animProgress * 2.5;\n            ctx.beginPath();\n            ctx.moveTo(newP.x + spacingTen, newP.y + _utils_math_js__WEBPACK_IMPORTED_MODULE_1__.linearInterpolate(newS, spacingTen, animProgress));\n            ctx.lineTo(newP.x + spacingTen, newP.y + newS);\n            ctx.lineTo(newP.x + _utils_math_js__WEBPACK_IMPORTED_MODULE_1__.linearInterpolate(spacingTen, newS, animProgress), newP.y + newS);\n            ctx.fill();\n        } else if (this.animProgress < 0.8) {\n            animProgress = this.animProgress * 2.5 - 1;\n            ctx.beginPath();\n            ctx.moveTo(newP.x + spacingTen, newP.y + spacingTen);\n            ctx.lineTo(newP.x + spacingTen, newP.y + newS);\n            ctx.lineTo(newP.x + newS, newP.y + newS);\n            ctx.lineTo(newP.x + newS, newP.y + _utils_math_js__WEBPACK_IMPORTED_MODULE_1__.linearInterpolate(newS, spacingTen, animProgress));\n            ctx.lineTo(newP.x + _utils_math_js__WEBPACK_IMPORTED_MODULE_1__.linearInterpolate(spacingTen, newS, animProgress), newP.y + spacingTen);\n            ctx.fill();\n        } else {\n\n            animProgress = this.animProgress * 5 - 4;\n            _utils_js__WEBPACK_IMPORTED_MODULE_2__.drawInCtxRec(ctx, newP, size, bcolor, _utils_math_js__WEBPACK_IMPORTED_MODULE_1__.linearInterpolate(1, 0, animProgress));\n        }\n\n    }\n\n    draw(ctx, checkViewport) {\n        if (checkViewport && window.camera.checkObjectInCamera(this.position)) {\n            console.log(\"not in camera\");\n            return;\n        }\n        let canDraw = this.handleAnimation();\n        if (!canDraw) {\n            return;\n        }\n\n        this.drawBorderBlock(ctx, \"#420707\", 10);\n        this.drawEmptyBlock(ctx, \"#2d2926\", \"#4e463f\", 7);\n        this.drawRegularBlock(ctx, \"#2d2926\", \"#4e463f\", 9);\n        //Ocuupited Block\n    }\n\n\n    static convertRectToBlock(rect, colorsWithId, listOfBlocks, myPlayer) {\n\n        const viewPortRadius = window.game.viewPortRadius;\n        if (myPlayer) {\n            rect.min.x = Math.max(rect.min.x, Math.round(myPlayer.position.x - viewPortRadius));\n            rect.min.y = Math.max(rect.min.y, Math.round(myPlayer.position.y - viewPortRadius));\n\n            rect.max.x = Math.min(rect.max.x, Math.round(myPlayer.position.x + viewPortRadius));\n            rect.max.y = Math.min(rect.max.y, Math.round(myPlayer.position.y + viewPortRadius));\n        }\n\n        for (let {x, y} of rect.for_each()) {\n            let block = Block.getBlockAt(new _point_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"](x, y), listOfBlocks);\n            block.colorsWithId = colorsWithId;\n            block.setBlockId(colorsWithId.id, Math.random() * 400);\n        }\n\n        // console.log(listOfBlocks);\n    }\n\n}\n\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Block);\n\n//# sourceURL=webpack:///./src/ui/objects/block.js?");

/***/ }),

/***/ "./src/ui/objects/camera.js":
/*!**********************************!*\
  !*** ./src/ui/objects/camera.js ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _point_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./point.js */ \"./src/ui/objects/point.js\");\n/* harmony import */ var _rectangle_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./rectangle.js */ \"./src/ui/objects/rectangle.js\");\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils.js */ \"./src/ui/utils.js\");\n/* harmony import */ var _utils_math_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../utils/math.js */ \"./src/utils/math.js\");\n\n\n\n\n\nclass Camera {\n    constructor() {\n        this.zoom = 5;\n        this.camPosition = new _point_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"](0, 0);\n        this.camRotationOffset = 0;\n        this.camPositionOffset = new _point_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"](0, 0);\n        this.camPrevPosition = new _point_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"](0, 0);\n\n        this.camPosSet = false;\n\n        this.camShakeBuffer = [];\n        //\n    }\n\n\n    // TODO ADD VIEWPORT RADIUS\n    checkObjectInCamera(point) {\n        return (\n            point.x < this.camPosition.x - window.game.viewPortRadius ||\n            point.x > this.camPosition.x + window.game.viewPortRadius ||\n            point.y < this.camPosition.y - window.game.viewPortRadius ||\n            point.y > this.camPosition.y + window.game.viewPortRadius\n        )\n    }\n\n    shakeCamera(p, rotate = true) {\n        this.camShakeBuffer.push([\n            p, 0, !!rotate\n        ]);\n    }\n\n    shakeCameraDirection(dir, amount = 6, rotate = true) {\n        let x, y = 0;\n        switch (dir) {\n            case 0:\n                x = amount;\n                break;\n            case 1:\n                y = amount;\n                break;\n            case 2:\n                x = -amount;\n                break;\n            case 3:\n                y = -amount;\n                break;\n        }\n        this.shakeCamera(new _point_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"](x, y), rotate);\n    }\n\n    calCameraOffset() {\n        for (let i = this.camShakeBuffer.length - 1; i >= 0; i--) {\n            let shake = this.camShakeBuffer[i];\n            shake[1] = window.gameEngine.deltaTime * 0.003;\n            let shakeTime = shake[1];\n            let shakeTime2 = 0;\n            let shakeTime3 = 0;\n            if (shakeTime < 1) {\n                shakeTime2 = _utils_js__WEBPACK_IMPORTED_MODULE_2__.ease.out(shakeTime);\n                shakeTime3 = _utils_js__WEBPACK_IMPORTED_MODULE_2__.ease.inout(shakeTime);\n\n            } else if (shakeTime < 8) {\n                shakeTime2 = _utils_js__WEBPACK_IMPORTED_MODULE_2__.ease.inout(_utils_math_js__WEBPACK_IMPORTED_MODULE_3__.inverseLinearInterpolate(8, 1, shakeTime));\n                shakeTime3 = _utils_js__WEBPACK_IMPORTED_MODULE_2__.ease.in(_utils_math_js__WEBPACK_IMPORTED_MODULE_3__.inverseLinearInterpolate(8, 1, shakeTime));\n            } else {\n                this.camShakeBuffer.splice(i, 1);\n            }\n            this.camPositionOffset.x += shake[0].x * shakeTime2;\n            this.camPositionOffset.y += shake[0].y * shakeTime2;\n\n            this.camPositionOffset.x += shake[0] * Math.cos(shakeTime * 8) * 0.04 * shakeTime3;\n            this.camPositionOffset.y += shake[0] * Math.cos(shakeTime * 7) * 0.04 * shakeTime3;\n            if (shake[2]) {\n                this.camRotationOffset += Math.cos(shakeTime * 9) * 0.003 * shakeTime3;\n            }\n            console.log(this.camShakeBuffer.length);\n        }\n\n        let limit = 80;\n        let x = this.camPositionOffset.x;\n        let y = this.camPositionOffset.y;\n        x /= limit;\n        y /= limit;\n        x = _utils_math_js__WEBPACK_IMPORTED_MODULE_3__.smoothLimit(x);\n        y = _utils_math_js__WEBPACK_IMPORTED_MODULE_3__.smoothLimit(y);\n        x *= limit;\n        y *= limit;\n        this.camPositionOffset.x = x;\n        this.camPositionOffset.y = y;\n\n    }\n\n    calZoom(ctx) {\n        let maxPixelRatio = _utils_js__WEBPACK_IMPORTED_MODULE_2__.calculate_pixel_ratio();\n        let quality = 1;\n        const canvas = window.game.canvas;\n\n\n        if (ctx.canvas === canvas || true) {\n            const maxDimension = Math.max(canvas.width, canvas.height);\n            const zoomEdge = maxDimension / window.game.maxZoom;\n            const screenPixels = canvas.width * canvas.height;\n            const blockPixels = screenPixels / window.game.maxBlocksNumber;\n            const zoomBlocks = Math.sqrt(blockPixels) / 10;\n            this.zoom = Math.max(zoomEdge, zoomBlocks);\n            ctx.translate(window.game.canvas.width / 2, window.game.canvas.height / 2);\n\n            ctx.rotate(this.camRotationOffset);\n            ctx.scale(this.zoom, this.zoom);\n            ctx.translate(-this.camPrevPosition.x * 10 - this.camPositionOffset.x, -this.camPrevPosition.y * 10 - this.camPositionOffset.y);\n\n        } else {}\n    }\n\n\n    moveToPlayer(player) {\n        if (!player) return;\n        if (this.camPosSet) {\n            this.camPosition.x = _utils_math_js__WEBPACK_IMPORTED_MODULE_3__.linearInterpolate(this.camPosition.x, player.position.x, 0.03);\n            this.camPosition.y = _utils_math_js__WEBPACK_IMPORTED_MODULE_3__.linearInterpolate(this.camPosition.y, player.position.y, 0.03);\n\n        } else {\n            this.camPosition = player.position.clone();\n            this.camPosSet = true;\n        }\n    }\n\n\n    loop() {\n        this.camPrevPosition = this.camPosition;\n        this.calCameraOffset();\n    }\n\n\n    getViewPortRec(pos){\n        const viewPortRadius = window.game.viewPortRadius * 2;\n        const leftSide = new _point_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"](\n            pos.x - viewPortRadius,\n            pos.y - viewPortRadius\n        )\n        const rightSide = new _point_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"](\n            pos.x + viewPortRadius,\n            pos.y + viewPortRadius\n        )\n        return new _rectangle_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"](leftSide, rightSide);\n    }\n\n}\n\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Camera);\n\n//# sourceURL=webpack:///./src/ui/objects/camera.js?");

/***/ }),

/***/ "./src/ui/objects/player.js":
/*!**********************************!*\
  !*** ./src/ui/objects/player.js ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _point_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./point.js */ \"./src/ui/objects/point.js\");\n/* harmony import */ var _utils_math_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils/math.js */ \"./src/utils/math.js\");\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils.js */ \"./src/ui/utils.js\");\n/* harmony import */ var _network_packets_direction__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../network/packets/direction */ \"./src/network/packets/direction.js\");\n/* harmony import */ var _network_packets_requestWaitingBlocks__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../network/packets/requestWaitingBlocks */ \"./src/network/packets/requestWaitingBlocks.js\");\n\n\n\n\n\n\n\nclass Player {\n\n    constructor(position = new _point_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"](1, 1), id) {\n        this.id = id\n        this.drawPosSet = false;\n\n        this.isMyPlayer = false;\n        this.deathWasCertain = false;\n        this.didUncertainDeathLastTick = false;\n        this.isDeathTimer = 0;\n        this.uncertainDeathPosition = new _point_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"](0, 0);\n        this.deadAnimParts = [];\n        this.deadAnimPartsRandDist = [];\n        this.hitLines = [];\n\n        this.position = position\n        this.drawPosition = new _point_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"](-1, -1);\n        this.serverPosition = new _point_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"](0, 0);\n        this.lastChangedDirPos = new _point_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"](0, 0);\n\n\n        this.waitingBlocks = [];\n        this.name = \"\";\n\n\n        // Colors\n        this.colorBrighter = 0;\n        this.colorDarker = 0;\n        this.colorSlightlyBrighter = 0\n        this.colorPattern = 0\n        this.colorPatternEdge = 0\n\n\n        // Movements\n        this.hasReceivedPosition = false;\n        this.moveRelativeToServerPosNextFrame = false;\n        this.lastServerPosSentTime = 0;\n\n\n        this.isReady = false;\n        this.isDead = false;\n\n        ///\n        this.waitingBlocksDuringWaiting = [];\n        //\n        this.lastPosHasBeenConfirmed = false;\n        this.lastPosServerSentTime = 0;\n        this.myNextDir = '';\n        this.myLastSendDir = '';\n        this.lastDirServerSentTime = 0;\n        this.lastMyPostSetClientSendTime = 0;\n        this.lastConfirmedTimeForPos = 0;\n        this.dir = '';\n        this.sendDirQueue = [];\n        this.clientSideMoves = [];\n        this.changeDirAtCoord = null;\n        this.changeDirAtIsHorizontal = false;\n\n        this.serverPos = new _point_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"](0, 0);\n        this.serverDir = '';\n\n\n        this.waitingForPing = false;\n        this.lastPingTime = 0;\n        this.severLastPing = 0;\n        this.serverAvgPing = 0;\n        this.serverDiffPing = 0;\n\n\n        this.isGettingWaitingBlocks = false;\n        this.skipGettingWaitingBlocksRespose = false;\n        this.waitingPushedDuringReceiving = [];\n\n    }\n\n\n    static getPlayerById(id, players) {\n        for (let p of players) {\n            if (p.id === id) return p;\n        }\n    }\n\n    static isMovingHorizontally(direction) {\n        return direction === 'left' || direction === 'right';\n    }\n\n    static movePlayer(pos, dir, offset) {\n        let workingPos = pos.clone();\n        if (dir === 'up') {\n            workingPos.y -= offset;\n        } else if (dir === 'down') {\n            workingPos.y += offset;\n        } else if (dir === 'left') {\n            workingPos.x -= offset;\n        } else if (dir === 'right') {\n            workingPos.x += offset;\n        }\n        return workingPos;\n\n    }\n\n    static mapControlsToDir(controls) {\n        if (controls === 1) return 'up'; else if (controls === 3) return 'down'; else if (controls === 4) return 'left'; else if (controls === 2) return 'right'; else return '';\n    }\n\n\n    checkClientMovementSyncedWithServer(newDir, newPosOffset, newPos) {\n        // Check If dir and por are close to current\n        const distVector = this.position.distanceVector(newPosOffset);\n        if ((this.dir === newDir || this.myNextDir === newDir) &&\n            distVector.x < 1 && distVector.y < 1) {\n            return false\n        }\n\n        // check if last client side move is same as new\n        // if server faster than client\n        if (this.clientSideMoves.length > 0) {\n            const lastClientSideMove = this.clientSideMoves.shift()\n            if (lastClientSideMove.dir === newDir\n                && lastClientSideMove.pos.equals(newPos)) {\n                return false\n            } else {\n                this.clientSideMoves = [];\n            }\n        }\n\n        return true\n\n    }\n\n\n    equals(player) {\n        return this.id === player.id;\n    }\n\n\n    /**\n     * Calculate Move Offset Based On Ping And Game Speed\n     * If Player Is Not My Player Or Ping Is Less Than 50 Return 0\n     * @returns {number}\n     */\n    calMoveOffset() {\n        let offset = 0;\n        if (!this.isMyPlayer || this.serverAvgPing <= 50) return offset;\n\n        const gameSpeed = window.game.gameSpeed;\n        offset = this.serverAvgPing / 2 * gameSpeed;\n        return offset;\n    }\n\n\n    addWaitingBlocks(pos = new _point_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"](0, 0)) {\n        if (this.waitingBlocks.length <= 0) return;\n        const lastBlock = this.waitingBlocks.getLast.blocks;\n        if (lastBlock.length <= 0) return;\n        if (!(lastBlock[0].x !== pos.x || lastBlock[0].y !== pos.y)) return;\n        lastBlock.push(pos.clone());\n\n        if (this.isMyPlayer && this.isGettingWaitingBlocks) {\n            this.waitingPushedDuringReceiving.push(pos);\n        }\n\n    }\n\n    /**\n     * This Function Is Called Every Frame\n     * It Moves The Draw Position To The Position\n     */\n    moveDrawPosToPos() {\n        let target = this.position;\n        this.drawPosition.x = _utils_math_js__WEBPACK_IMPORTED_MODULE_1__.linearInterpolate(this.drawPosition.x, target.x, 0.23);\n        this.drawPosition.y = _utils_math_js__WEBPACK_IMPORTED_MODULE_1__.linearInterpolate(this.drawPosition.y, target.y, 0.23);\n    }\n\n    /**\n     * Update Player Direction\n     * @param dir\n     */\n    updatePlayerDirection(dir) {\n        this.dir = dir;\n    }\n\n    /**\n     * Check If Player Is Moving Horizontally\n     * @param direction\n     * @returns {boolean}\n     */\n    isMovingHorizontally(direction = this.dir) {\n        return direction === 'left' || direction === 'right';\n    }\n\n    /**\n     * Update Player Position\n     * @param pos\n     */\n    updatePlayerPosition(pos) {\n        this.position = pos;\n    }\n\n    /**\n     * This Is Called In PlayerState Message\n     * To Remove Blocks Outside Camera\n     */\n    removeBlocksOutsideCamera() {\n        const camera = window.camera;\n        const playerRect = camera.getViewPortRec(this.position);\n        const blocks = window.gameEngine.gameObjects.blocks;\n        for (let i = 0; i < blocks.length; i++) {\n            const block = blocks[i];\n            if (!playerRect.pointInRect(block.position)) {\n                blocks.splice(i, 1);\n            }\n        }\n    }\n\n    /**\n     * This Function Is Called Every Frame\n     * It Checks If The Player Should Change Direction\n     * Based On Next Direction If It Should Change Direction\n     */\n    checkNextDirAndCamera() {\n\n        if (!this.isMyPlayer) return;\n\n        const camera = window.camera;\n        camera.moveToPlayer(this)\n\n\n        if (this.myNextDir === this.dir) return;\n\n        const isHorizontal = this.isMovingHorizontally(this.dir);\n        if (this.changeDirAtIsHorizontal === isHorizontal) return;\n        let changeDirNow = false;\n        const currentCoord = isHorizontal ? this.position.x : this.position.y;\n\n        // Check If Last Direction Complete passed .55 Of Current Block\n        if (_utils_js__WEBPACK_IMPORTED_MODULE_2__.isMovingToPositiveDir(this.dir)) {\n            if (this.changeDirAtCoord < currentCoord) changeDirNow = true;\n        } else {\n            if (this.changeDirAtCoord > currentCoord) changeDirNow = true;\n        }\n\n\n        if (changeDirNow) {\n            const newPos = this.position.clone();\n            const tooFar = Math.abs(this.changeDirAtCoord - currentCoord);\n            if (isHorizontal)\n                newPos.x = this.changeDirAtCoord;\n            else\n                newPos.y = this.changeDirAtCoord;\n            this.changeCurrentDir(this.myNextDir, newPos);\n            let offsetPosition = Player.movePlayer(this.position, this.dir, tooFar);\n            this.updatePlayerPosition(offsetPosition);\n        }\n\n    }\n\n    /**\n     * Change Player Direction and Position\n     * Add Waiting Blocks\n     * Add Client Side Move To Check If Server Synced With Client in PlayerState Message\n     * @param dir\n     * @param pos\n     * @param addWaitingBlocks\n     * @param clientDecision\n     */\n    changeCurrentDir(dir, pos, addWaitingBlocks = true, clientDecision = true) {\n        this.updatePlayerDirection(dir);\n        this.myNextDir = dir;\n\n        this.updatePlayerPosition(pos.clone());\n        this.lastChangedDirPos = pos.clone();\n\n\n        if (addWaitingBlocks) {\n            this.addWaitingBlocks(pos);\n        }\n\n\n        // To Check If Player Movement is Synced With Server in\n        // PlayerState Message\n        if (clientDecision) {\n            this.clientSideMoves.push({\n                dir: dir, pos: pos.clone(), time: Date.now()\n            });\n        }\n\n    }\n\n\n    ////////////// DRAWING /////////////////\n    drawPlayerHeadWithEye(ctx) {\n        let newDrawPos = new _point_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"](this.drawPosition.x * 10 + 4.5, this.drawPosition.y * 10 + 4.5);\n        const bigEye = \"#ffff\";\n        const smallEye = \"#000\";\n        let radius = 6;\n        let size = radius;\n        const animationSpeed = 0.005;\n        const eyeAnimation = Math.sin(Date.now() * animationSpeed) * 2;\n        let r = 0.5;\n\n        const gradient = ctx.createRadialGradient(newDrawPos.x - 3, newDrawPos.y - 3, 0, newDrawPos.x, newDrawPos.y, radius);\n        gradient.addColorStop(0, this.colorSlightlyBrighter);\n        gradient.addColorStop(1, this.colorBrighter);\n\n        const c = ctx;\n        c.translate(newDrawPos.x, newDrawPos.y);\n\n        if (this.dir === 'up') {\n            c.rotate(Math.PI * r);\n        } else if (this.dir === 'down') {\n            r += .5 * 2;\n            c.rotate(Math.PI * r);\n        } else if (this.dir === 'left') {\n            r += .5 * 3;\n            c.rotate(Math.PI * r);\n        } else {\n            r += .5;\n            c.rotate(Math.PI * r);\n        }\n\n        c.beginPath();\n        c.arc(0, 0, size, 0, Math.PI * 2, false);\n\n        c.fillStyle = gradient;\n        c.fill();\n\n        // Draw the left white eye\n        c.beginPath();\n        c.fillStyle = bigEye;\n        c.arc(-size / 2, -size / 2.5, size / 4, 0, Math.PI * 2, false);\n        c.fill();\n\n        // Draw the left black eye\n        c.beginPath();\n        c.fillStyle = smallEye;\n        c.arc(-size / 2, -size / 2.5 + eyeAnimation, size / 8, 0, Math.PI * 2, false);\n        c.fill();\n\n        // Draw the right white eye\n        c.beginPath();\n        c.fillStyle = bigEye;\n        c.arc(-size / 2, size / 2.5, size / 4, 0, Math.PI * 2, false);\n        c.fill();\n\n        // Draw the right black eye\n        c.beginPath();\n        c.fillStyle = smallEye;\n        c.arc(-size / 2, size / 2.5 + eyeAnimation, size / 8, 0, Math.PI * 2, false);\n        c.fill();\n\n        // Smile\n        c.beginPath();\n        c.arc(size / 4, 0, size / 2, -0.5 * Math.PI, 0.5 * Math.PI);\n        c.lineWidth = size / 10;\n        c.stroke();\n\n        c.restore();\n        window.gameEngine.camTransform(ctx);\n\n    }\n\n    drawWaitingBlocks(ctx) {\n        if (this.waitingBlocks.length <= 0) return;\n        const gameSpeed = window.game.gameSpeed;\n        const deltaTime = window.gameEngine.deltaTime;\n\n\n        for (let blockIndex = this.waitingBlocks.length - 1; blockIndex >= 0; blockIndex--) {\n            let block = this.waitingBlocks[blockIndex];\n            let isLastBlock = blockIndex === this.waitingBlocks.length - 1;\n\n            if (!isLastBlock || this.isDead) {\n                let speed = (this.isDead && isLastBlock) ? gameSpeed : 0.02;\n                block.vanishTimer += deltaTime * speed;\n                if (!isLastBlock && (block.vanishTimer > 10)) {\n                    this.waitingBlocks.splice(blockIndex, 1);\n                }\n            }\n\n            let helperCanvas = window.game.helperCtx.canvas;\n            let helperCtx = window.game.helperCtx;\n\n            if (block.blocks.length <= 0) continue;\n\n            const lastDrawPos = isLastBlock ? this.drawPosition : null;\n\n            if (block.vanishTimer > 0 && false) {} else if (block.vanishTimer < 10) {\n                this.drawWaitingBlockInCTX([\n                    {ctx: ctx, color: this.colorDarker, offset: 6},\n                    {ctx: ctx, color: this.colorBrighter, offset: 4},\n                ], block.blocks, lastDrawPos);\n            }\n\n\n        }\n\n\n    }\n\n    drawWaitingBlockInCTX(callback, blocks, lastPosition) {\n        if (blocks.length <= 0) return;\n\n\n        for (let ctxIndex = 0; ctxIndex < callback.length; ctxIndex++) {\n            let b = callback[ctxIndex];\n            let ctx = b.ctx;\n            let offset = b.offset;\n            ctx.lineCap = \"round\";\n            ctx.lineJoin = \"round\";\n            ctx.lineWidth = 6;\n            ctx.strokeStyle = b.color;\n            ctx.beginPath();\n            ctx.moveTo(blocks[0].x * 10 + offset, blocks[0].y * 10 + offset);\n            for (let i = 1; i < blocks.length; i++) {\n                ctx.lineTo(blocks[i].x * 10 + offset, blocks[i].y * 10 + offset);\n            }\n            if (lastPosition !== null) {\n                ctx.lineTo(lastPosition.x * 10 + offset, lastPosition.y * 10 + offset);\n            }\n            ctx.stroke();\n        }\n    }\n\n    draw(ctx) {\n        if (!this.isReady) return;\n        if (!this.hasReceivedPosition) return;\n        const gameSpeed = window.game.gameSpeed;\n        let offset = window.gameEngine.deltaTime * gameSpeed;\n\n        if (this.moveRelativeToServerPosNextFrame) {\n            // When Receiving Player State\n            // Next Frame Move Relative To Server Pos\n            offset = (Date.now() - this.lastServerPosSentTime) * gameSpeed;\n            this.moveRelativeToServerPosNextFrame = false;\n        }\n\n        if (this.isMyPlayer) {\n            this.serverPos = Player.movePlayer(this.serverPos, this.serverDir, offset);\n            if (this.serverDir === this.dir) {\n                let clientSideDist = 0;\n                if (Player.isMovingHorizontally(this.dir)) {\n                    if (this.position.y === this.serverPos.y) {\n                        if (this.dir === 'right') {\n                            clientSideDist = this.position.x - this.serverPos.x;\n                        } else {\n                            clientSideDist = this.serverPos.x - this.position.x;\n                        }\n                    }\n                } else {\n                    if (this.position.x === this.serverPos.x) {\n                        if (this.dir === 'down') {\n                            clientSideDist = this.position.y - this.serverPos.y;\n                        } else {\n                            clientSideDist = this.serverPos.y - this.position.y;\n                        }\n                    }\n                }\n                clientSideDist = Math.max(0, clientSideDist);\n                offset *= _utils_math_js__WEBPACK_IMPORTED_MODULE_1__.linearInterpolate(.5, 1, _utils_math_js__WEBPACK_IMPORTED_MODULE_1__.inverseLinearInterpolate(5, 0, clientSideDist));\n            }\n        }\n        let offsetPosition = Player.movePlayer(this.position, this.dir, offset);\n        if (!this.positionInWalls(offsetPosition))\n            this.updatePlayerPosition(offsetPosition);\n\n\n        this.moveDrawPosToPos();\n        this.checkNextDirAndCamera();\n        this.drawWaitingBlocks(ctx);\n        this.drawPlayerHeadWithEye(ctx);\n        this.parseDirQueue();\n\n    }\n\n\n    checkIfPositionSentEarlier(pos) {\n        return false; // TODO: Fix This\n        // console.log(pos, this.lastChangedDirPos, \"E\");\n\n\n        if (this.dir === 'up' && pos.y >= this.lastChangedDirPos.y) return true;\n        else if (this.dir === 'down' && pos.y <= this.lastChangedDirPos.y) return true;\n        else if (this.dir === 'left' && pos.x >= this.lastChangedDirPos.x) return true;\n        else return this.dir === 'right' && pos.x <= this.lastChangedDirPos.x;\n    }\n\n\n    positionInWalls(pos) {\n        const mapSize = window.gameEngine.gameObjects.mapSize - 1;\n        const playerPositionFloored = pos.floorVector();\n        const playerPositionCelled = pos.ceilVector();\n        const minBoundary = new _point_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"](0, 0);\n        const maxBoundary = new _point_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"](mapSize, mapSize);\n\n        return (playerPositionFloored.x <= minBoundary.x ||\n            playerPositionCelled.x >= maxBoundary.x ||\n            playerPositionFloored.y <= minBoundary.y ||\n            playerPositionCelled.y >= maxBoundary.y)\n    }\n\n    requestChangeDir(value, skipQueue = false) {\n        const dir = Player.mapControlsToDir(value);\n        const gameSpeed = window.game.gameSpeed;\n        const timePassedFromLastSend = Date.now() - this.lastDirServerSentTime;\n        const minTimeToWaitToSendDir = 0.7 / gameSpeed;\n\n        if (true) {\n            //check Player Socket Connection\n        }\n\n\n        // Prevent Sending Same Dir\n        // Prevent Sending Dir Too Fast\n        if (dir === this.myLastSendDir && timePassedFromLastSend < minTimeToWaitToSendDir) {\n            console.log(\"dir === this.myLastSendDir || timePassedFromLastSend < minTimeToWaitToSendDir\")\n            return false;\n        }\n        this.myLastSendDir = dir;\n        this.lastDirServerSentTime = Date.now();\n\n        if (this.dir === dir) {\n            console.log(\"this.dir === dir\");\n            this.addDirToQueue(dir, skipQueue);\n            return false;\n        }\n\n        // Check If Dir Is Opposite Of Current Dir\n        if (_utils_js__WEBPACK_IMPORTED_MODULE_2__.isOppositeDir(dir, this.dir)) {\n            console.log(\"GameUtils.isOppositeDir(dir, this.dir)\");\n            this.addDirToQueue(dir, skipQueue);\n            return false;\n        }\n\n        // Round Player Position To The Nearest Integer\n        const isHorizontal = !this.isMovingHorizontally(this.dir);\n        const valueToRound = isHorizontal ? this.position.y : this.position.x;\n        const roundedValue = Math.round(valueToRound);\n        const newPlayerPos = this.position.clone();\n        if (isHorizontal) newPlayerPos.y = roundedValue; else newPlayerPos.x = roundedValue;\n        // console.log(\"LastPos\", this.position, \"NewPos\", newPlayerPos);\n\n        // Check If Position Corrupted Since Last Send\n        if (this.checkIfPositionSentEarlier(newPlayerPos)) {\n            console.log(\"GameUtils.checkIfPositionSentEarlier(dir, this.dir)\");\n            this.addDirToQueue(dir, skipQueue);\n            return false;\n        }\n\n\n        console.log(\"Position Passed\")\n        // Check If Last Direction Complete passed .55 Of Current Block\n        let changeDirNow = false;\n\n        const blockProgress = valueToRound - Math.floor(valueToRound);\n        if (_utils_js__WEBPACK_IMPORTED_MODULE_2__.isMovingToPositiveDir(dir)) {\n            if (blockProgress < .45) changeDirNow = true;\n        } else if (blockProgress > .55) changeDirNow = true;\n\n\n        // Check If Prediction Of Next Direction Will Touch Wall\n        // We Change It Now Not in Next Frame\n        // Because checkNextDirAndCamera function will not change the direction\n        // Because the player is not moving to the next block\n        // as it prevented from move in main update function\n        let predictionVector = this.position.clone();\n        predictionVector = Player.movePlayer(predictionVector, this.dir, 1);\n        if (this.positionInWalls(predictionVector))\n            changeDirNow = true;\n\n\n        if (changeDirNow) {\n            console.log(\"changeDirNow\");\n            this.changeCurrentDir(dir, newPlayerPos);\n        } else {\n            console.log(\"Change It Next Frame\");\n            this.myNextDir = dir;\n            this.changeDirAtCoord = roundedValue;\n            this.changeDirAtIsHorizontal = isHorizontal;\n            this.lastChangedDirPos = newPlayerPos.clone();\n        }\n\n\n        // Last Send Time\n        // Last Confirmed Time\n        this.lastMyPostSetClientSendTime = Date.now();\n        if (this.lastPosHasBeenConfirmed) {\n            this.lastConfirmedTimeForPos = Date.now();\n            this.lastPosHasBeenConfirmed = false;\n        }\n\n\n        // We Send The Position and Dir To Server\n        // To Make Server Sync With Client\n        const packet = new _network_packets_direction__WEBPACK_IMPORTED_MODULE_3__[\"default\"](dir, newPlayerPos);\n        window.client.send(packet);\n        return true;\n    }\n\n\n    parseDirQueue() {\n\n        if (this.sendDirQueue.length <= 0) return;\n        const firstDir = this.sendDirQueue.first;\n        const timePassed = Date.now() - firstDir.time;\n        const gameSpeed = window.game.gameSpeed;\n        const minTimeToWaitToSendDir = 1.2 / gameSpeed;\n        if (timePassed < minTimeToWaitToSendDir || this.requestChangeDir(firstDir.dir, true)) {\n            this.sendDirQueue.shift();\n        }\n    }\n\n    addDirToQueue(dir, skip = false) {\n        if (!skip && this.sendDirQueue.length < 3) {\n            this.sendDirQueue.push({\n                dir: dir, time: Date.now()\n            });\n        }\n    }\n\n    /**\n     * Request Waiting Blocks For Two Reasons\n     * 1- If server thinks player movement then some waiting blocks were missed so we request it\n     */\n    requestWaitingBlocks() {\n        this.isGettingWaitingBlocks = true;\n        this.waitingPushedDuringReceiving = [];\n        const packet = new _network_packets_requestWaitingBlocks__WEBPACK_IMPORTED_MODULE_4__[\"default\"]();\n        window.client.send(packet);\n    }\n\n\n    drawPlayerHead(ctx) {\n        let newDrawPos = new _point_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"](this.drawPosition.x * 10 + 4.5, this.drawPosition.y * 10 + 4.5);\n        let radius = 6;\n        let shadowOffset = .3;\n\n        const gradient = ctx.createRadialGradient(newDrawPos.x - 3, newDrawPos.y - 3, 0, newDrawPos.x, newDrawPos.y, radius);\n        gradient.addColorStop(0, this.colorSlightlyBrighter);\n        gradient.addColorStop(1, this.colorBrighter);\n        if (false) {} else {\n            ctx.fillStyle = this.colorDarker;\n            ctx.beginPath();\n            ctx.arc(newDrawPos.x + shadowOffset, newDrawPos.y + shadowOffset, radius, 0, Math.PI * 2, false);\n            ctx.fill();\n            ctx.fillStyle = gradient;\n            ctx.beginPath();\n            ctx.arc(newDrawPos.x - shadowOffset, newDrawPos.y - shadowOffset, radius, 0, Math.PI * 2, false);\n            ctx.fill();\n            if (this.isMyPlayer) {\n                ctx.fillStyle = \"#ffffff\";\n                ctx.beginPath();\n                ctx.arc(newDrawPos.x - shadowOffset, newDrawPos.y - shadowOffset, 1, 0, Math.PI * 2, false);\n                ctx.fill();\n            }\n        }\n    }\n}\n\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Player);\n\n//# sourceURL=webpack:///./src/ui/objects/player.js?");

/***/ }),

/***/ "./src/ui/objects/point.js":
/*!*********************************!*\
  !*** ./src/ui/objects/point.js ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nclass Point {\n    constructor(x, y) {\n        this.x = x;\n        this.y = y;\n    }\n\n    equals(otherPoint) {\n        return this.x === otherPoint.x && this.y === otherPoint.y;\n    }\n\n    distanceVector(otherPoint) {\n        return new Point(Math.abs(this.x - otherPoint.x), Math.abs(this.y - otherPoint.y));\n    }\n\n    clone() {\n        return new Point(this.x, this.y);\n    }\n\n\n    floorVector()\n    {\n        return new Point(Math.floor(this.x),Math.floor(this.y));\n    }\n\n    ceilVector()\n    {\n        return new Point(Math.ceil(this.x),Math.ceil(this.y));\n    }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Point);\n\n//# sourceURL=webpack:///./src/ui/objects/point.js?");

/***/ }),

/***/ "./src/ui/objects/rectangle.js":
/*!*************************************!*\
  !*** ./src/ui/objects/rectangle.js ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _point_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./point.js */ \"./src/ui/objects/point.js\");\n\nclass Rectangle {\n    constructor(minVec, maxVec) {\n        this.min = minVec;\n        this.max = maxVec;\n    }\n\n    toString() {\n        return `<Rectangle min=${this.min} max=${this.max}>`;\n    }\n\n    clamp(rect) {\n        const minVec = new _point_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"](\n            Math.max(this.min.x, rect.min.x),\n            Math.max(this.min.y, rect.min.y)\n        );\n\n        const maxVec = new _point_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"](\n            Math.min(this.max.x, rect.max.x),\n            Math.min(this.max.y, rect.max.y)\n        );\n\n        return new Rectangle(minVec, maxVec);\n    }\n\n    *for_each() {\n        for (let x = this.min.x; x < this.max.x; x++) {\n            for (let y = this.min.y; y < this.max.y; y++) {\n                yield { x, y };\n            }\n        }\n    }\n\n    isRectOverlap(rect) {\n        return (\n            this.min.x < rect.max.x &&\n            this.max.x > rect.min.x &&\n            this.min.y < rect.max.y &&\n            this.max.y > rect.min.y\n        );\n    }\n\n    isNotRectOverlap(rect) {\n        return (\n            this.max.x < rect.min.x ||\n            this.min.x > rect.max.x ||\n            this.max.y < rect.min.y ||\n            this.min.y > rect.max.y\n        );\n    }\n\n\n    pointInRect(point) {\n        return (\n            point.x >= this.min.x &&\n            point.x <= this.max.x &&\n            point.y >= this.min.y &&\n            point.y <= this.max.y\n        );\n    }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Rectangle);\n\n//# sourceURL=webpack:///./src/ui/objects/rectangle.js?");

/***/ }),

/***/ "./src/ui/utils.js":
/*!*************************!*\
  !*** ./src/ui/utils.js ***!
  \*************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   calculate_pixel_ratio: () => (/* binding */ calculate_pixel_ratio),\n/* harmony export */   convertIntColorToHex: () => (/* binding */ convertIntColorToHex),\n/* harmony export */   drawInCtxRec: () => (/* binding */ drawInCtxRec),\n/* harmony export */   ease: () => (/* binding */ ease),\n/* harmony export */   getHeight: () => (/* binding */ getHeight),\n/* harmony export */   getWidth: () => (/* binding */ getWidth),\n/* harmony export */   isMovingToPositiveDir: () => (/* binding */ isMovingToPositiveDir),\n/* harmony export */   isOppositeDir: () => (/* binding */ isOppositeDir),\n/* harmony export */   isVerticalDir: () => (/* binding */ isVerticalDir)\n/* harmony export */ });\nconst getHeight = () => window.innerHeight;\nconst getWidth = () => window.innerWidth;\n\nconst calculate_pixel_ratio = () => {\n    let context = document.createElement(\"canvas\").getContext(\"2d\");\n    let dpr = window.devicePixelRatio || 1;\n    let bsr = context.webkitBackingStorePixelRatio || context.mozBackingStorePixelRatio || context.msBackingStorePixelRatio || context.oBackingStorePixelRatio || context.backingStorePixelRatio || 1;\n    return dpr / bsr;\n}\n\nconst ease = {\n    in: function (t) {\n        return t * t * t * t;\n    },\n    out: function (t) {\n        return 1 - Math.pow(1 - t, 4);\n    },\n    inout: function (t) {\n        return t < 0.5 ? 8 * t * t * t * t : 1 - Math.pow(-2 * t + 2, 4) / 2;\n    },\n};\n\n\nconst drawInCtxRec = (ctx, point, size, color, spacing = 0) => {\n    ctx.fillStyle = color;\n    ctx.fillRect(point.x + spacing, point.y + spacing, size, size);\n}\n\n\nconst convertIntColorToHex = (color) => {\n    return \"#\" + (\"000000\" + color.toString(16)).slice(-6);\n}\n\n\nconst isOppositeDir = (newDir, OldDir) => {\n    if (newDir === 'up' && OldDir === 'down')\n        return true;\n    else if (newDir === 'down' && OldDir === 'up')\n        return true;\n    else if (newDir === 'left' && OldDir === 'right')\n        return true;\n    else return newDir === 'right' && OldDir === 'left';\n\n}\n\nconst isVerticalDir = (dir) => {\n    return dir === 'up' || dir === 'down';\n}\n\nconst isMovingToPositiveDir = (dir) => {\n    return dir === 'down' || dir === 'right';\n\n}\n\n\n\n//# sourceURL=webpack:///./src/ui/utils.js?");

/***/ }),

/***/ "./src/utils/math.js":
/*!***************************!*\
  !*** ./src/utils/math.js ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   adaptedConLinearInterpolate: () => (/* binding */ adaptedConLinearInterpolate),\n/* harmony export */   adaptedLinearInterpolate: () => (/* binding */ adaptedLinearInterpolate),\n/* harmony export */   calPercentage: () => (/* binding */ calPercentage),\n/* harmony export */   clamp: () => (/* binding */ clamp),\n/* harmony export */   inverseLinearInterpolate: () => (/* binding */ inverseLinearInterpolate),\n/* harmony export */   linearInterpolate: () => (/* binding */ linearInterpolate),\n/* harmony export */   smoothLimit: () => (/* binding */ smoothLimit)\n/* harmony export */ });\nconst linearInterpolate = (a, b, v) => {\n    return a + (b - a) * v;\n}\n\n\nconst inverseLinearInterpolate = (a, b, v) => {\n    return (v - a) / (b - a);\n}\n\nconst adaptedLinearInterpolate = (a, b, val1, val2) => {\n    let x = 1 - Math.pow((1 - val1), val2);\n    return linearInterpolate(a, b, x);\n};\n\nconst adaptedConLinearInterpolate = (val2) => (a, b, val1) => {\n    return adaptedLinearInterpolate(a, b, val1, val2);\n}\n\nconst smoothLimit = (v) => {\n    let negative = v < 0;\n    if (negative) {\n        v *= -1;\n    }\n    v = 1 - Math.pow(2, -v);\n    if (negative) {\n        v *= -1;\n    }\n    return v;\n}\n\nconst clamp = (val, min, max) => {\n    return Math.max(min, Math.min(max, val));\n}\n\n\nconst calPercentage = (a, percentage) => a * percentage;\n\n\n\n//# sourceURL=webpack:///./src/utils/math.js?");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/compat get default export */
/******/ 	(() => {
/******/ 		// getDefaultExport function for compatibility with non-harmony modules
/******/ 		__webpack_require__.n = (module) => {
/******/ 			var getter = module && module.__esModule ?
/******/ 				() => (module['default']) :
/******/ 				() => (module);
/******/ 			__webpack_require__.d(getter, { a: getter });
/******/ 			return getter;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module can't be inlined because the eval devtool is used.
/******/ 	var __webpack_exports__ = __webpack_require__("./src/app.js");
/******/ 	
/******/ })()
;